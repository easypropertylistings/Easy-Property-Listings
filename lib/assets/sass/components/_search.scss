@use "../abstracts" as *;

//---------------------------------------------
// Search
//---------------------------------------------

.epl-search-form {
	max-width: $epl-search-form--max-width;
	margin: $epl-search-form--margin;
	padding: $epl-search-form--padding;

	background: $epl-search-form--background;

	overflow: visible;

	form {
		display: $epl-search-form__form--display;
		flex-wrap: $epl-search-form__form--flex-wrap;
		gap: $epl-search-form__form--gap;
	}

	.field,
	.field-width {
		width: $epl-search__field--width;
		min-width: auto;
	}

	.field {
		//display: block;
		margin: 0;
		padding: 0;
		position: relative;

		-webkit-transition: all 0.15s ease-in-out;
		transition: all 0.15s;

		select::after {
			content: "";
			display: block;
			pointer-events: none;
			position: initial;

			margin: $epl-search__input__arrow--margin;

			//right: $epl-search__input__arrow--right;

			border-top: $epl-search__input__arrow--border-top;
			border-bottom: $epl-search__input__arrow--border-bottom;
			border-right: $epl-search__input__arrow--border-right;
			border-left: $epl-search__input__arrow--border-left;

			height: $epl-search__input__arrow--size;
			width: $epl-search__input__arrow--size;

			/**
			-webkit-transform-origin: 66% 66%;
			-ms-transform-origin: 66% 66%;
			transform-origin: 66% 66%;
			-webkit-transform: rotate(45deg);
			-ms-transform: rotate(45deg);
			transform: rotate(45deg);
			-webkit-transition: all 0.15s ease-in-out;
			transition: all 0.15s ease-in-out;
			
			**/

			-webkit-transform: $epl-search__input__arrow--transform;
			-ms-transform: $epl-search__input__arrow--transform;
			transform: $epl-search__input__arrow--transform;

			-webkit-transition: all 0.15s ease-in-out;
			transition: all 0.15s;

			//border-width: 4px 4px 0;
		}
	}

	.epl-search-row-text {
		.field {
			width: 100%;
		}
	}

	.nice-select .list {
		padding: 0 !important;
		max-height: 300px;
		overflow: scroll;
		margin: 0;
	}

	.epl-search-row-main {
	}
	.epl-search-row-options {
	}

	.epl-search-row-main {
	}

	.epl-search-row-options {
		margin-left: auto;
		flex: 0 0 auto;

		//border: 1px solid red !important; // Debug

		> * {
			flex: 1 1 auto;
		}
	}

	// Main Row items.
	.epl-search-row-options-section {
		flex: 1 0 100%;
	}
	.epl-search-row {
	}
	.epl-property_tab_post_type {
	}
	.epl-property_location {
	}

	.epl-search-label {
		display: $epl-search__label--display;
		margin: $epl-search__label--margin;
		margin-top: $epl-search__label--margin-top;
		padding: $epl-search__label--padding;
		min-width: $epl-search__label--min-width;
		color: $epl-search__label--color;
		font-size: $epl-search__label--font-size;
		font-weight: $epl-search__label--font-weight;
		line-height: $epl-search__label--line-height;
		text-transform: $epl-search__label--text-transform;
		letter-spacing: $epl-search__label--letter-spacing;
		white-space: $epl-search__label--white-space;
	}

	// Input field.
	.in-field,
	.epl-search-form-address-tags-wrapper {
		display: $epl-search__input--display;
		justify-content: $epl-search__input--justify-content;
		align-items: $epl-search__input--align-items;
		gap: $epl-search__input--gap;

		margin: $epl-search__input--margin;
		padding: $epl-search__input--padding;

		background: $epl-search__input--background;
		color: $epl-search__input--color;

		min-height: $epl-search__input--min-height;
		min-width: $epl-search__input--min-width;
		height: $epl-search__input--height;
		line-height: $epl-search__input--line-height;

		outline: $epl-search__input--outline;
		border: $epl-search__input--border;
		border-style: $epl-search__input--border-style;
		border-radius: $epl-search__input--border-radius;

		font-size: $epl-search__input--font-size;
		font-weight: $epl-search__input--font-weight;
		text-transform: $epl-search__input--text-transform;
		letter-spacing: $epl-search__input--letter-spacing;
		box-shadow: none;

		&.open {
			// border-color: $epl-color-secondary;
			background-color: $epl-search__input__open--background-color;
			border-color: $epl-search__input__open--border-color;
			outline: $epl-search__input__open--outline;
			outline-style: $epl-search__input__open--outline-style;
		}
	}

	.epl-search-form-address-tags-wrapper {
		background: $epl-color-white;
		.in-field {
			background: $epl-color-transparent;
			padding: 0;
			border: none;
		}

		input[type="text"]:focus {
			background-color: $epl-color-transparent;
			box-shadow: none;
		}

		.epl-search-form-address-tags {
			padding: 0;
			line-height: 1;
			background-color: $epl-color-transparent;
		}
	}

	// Checkboxes.
	.epl-search-other {
		display: $epl-search-other--display;
		margin: $epl-search-other--margin;
		padding: $epl-search-other--padding;
		justify-content: $epl-search-other--justify-content;
		flex-wrap: $epl-search-other--flex-wrap;
		gap: $epl-search-other--gap;
	}
	.epl-search-row-checkbox {
		display: flex;
		align-items: center;
		flex: 0 1 auto;
		gap: 0.5em;
		flex-direction: row;
	}

	.check-label {
		color: $epl-color-primary;
	}

	.epl-search-row-button {
		.field {
			overflow: $epl-search__input__button__field--overflow;
			display: $epl-search__input__button__field--display;
			margin: $epl-search__input__button__field--margin;
			padding: $epl-search__input__button__field--padding;
			justify-content: $epl-search__input__button__field--justify-content;
			align-items: $epl-search__input__button__field--align-items;
			gap: $epl-search__input__button__field--gap;

			border: $epl-search__input__button__field--border;
			border-style: $epl-search__input__button__field--border-style;
			border-radius: $epl-search__input__button__field--border-radius;

			label {
				cursor: pointer;
				margin: $epl-search__input__button__field__label--margin;
				padding: $epl-search__input__button__field__label--padding;

				background: $epl-search__input__button__field__label--background;
				color: $epl-search__input__button__field__label--color;

				width: 100%;

				border: $epl-search__input__button__field__label--border;
				border-style: $epl-search__input__button__field__label--border-style;
				border-radius: $epl-search__input__button__field__label--border-radius;

				font-size: $epl-search__input__button__field__label--font-size;
				font-weight: $epl-search__input__button__field__label--font-weight;
				text-align: $epl-search__input__button__field__label--text-align;
				text-transform: $epl-search__input__button__field__label--text-transform;
				letter-spacing: $epl-search__input__button__field__label--letter-spacing;
			}

			input[type="radio"]:checked + label {
				background: $epl-search__input__button__field__label__checked--background;
				color: $epl-search__input__button__field__label__checked--color;
				border-color: $epl-search__input__button__field__label__checked--border-color;
			}
		}
	}

	// Counter.
	.epl-sb-counter-field {
		background: $epl-color-white;
		padding: 0;
		border-radius: $epl-border-radius--input;

		display: grid;
		place-items: center;

		border-radius: 0.3em;

		position: relative;

		> * {
			align-items: center;
		}

		.x {
			img {
				grid-area: 1 / 1 / 4 / 2;
			}
			.red {
				grid-area: 1 / 1 / 2 / 2;
			}
			.blue {
				grid-area: 3 / 1 / 4 / 2;
			}
		}

		.in-field {
			padding: 0;
			width: 50px;
			text-align: center;

			height: 1em;
			line-height: 35px;

			grid-area: 1 / 1 / 4 / 2;
		}
		.epl-sb-counter-controls {
			display: flex;
			flex-direction: row-reverse;
			justify-content: space-between;
			//background: rgba(255, 191, 204, 0.591);
			width: 100px;
			grid-area: 1 / 1 / 4 / 2;

			position: relative;
			z-index: 1;

			> * {
				-webkit-user-select: none;
				-webkit-touch-callout: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;

				transition: background 0.2s ease-in-out;

				&:hover {
					background: $epl-color-secondary;
				}
			}
		}
		.epl-sb-plus {
		}
		.epl-sb-minus {
		}
	}

	.epl-sb-minus,
	.epl-sb-plus {
		background: #f2f2f2;
		border: 1px solid #ddd;
		height: 2em;
		width: 2em;

		background: #f2f2f2;
		border-radius: 0.3em;
		border: 1px solid #ddd;

		font-size: 1em;
		font-weight: bold;
	}

	.epl-search-btn {
		-webkit-appearance: none;
		pointer-events: auto;
		cursor: pointer;

		position: relative;

		margin: $epl-search__submit--margin;
		padding: $epl-search__submit--padding;

		min-height: $epl-search__submit--min-height;
		width: $epl-search__submit--width;
		height: $epl-search__submit--height;
		line-height: $epl-search__submit--line-height;

		background: $epl-search__submit--background;
		background-color: $epl-search__submit--background-color;
		background-size: $epl-search__submit--background-size;
		background-position: $epl-search__submit--background-position;

		color: $epl-search__submit--color;

		border: $epl-search__submit--border;
		border-style: $epl-search__submit--border-style;
		border-radius: $epl-search__submit--border-radius;

		text-transform: $epl-search__submit--text-transform;
		text-align: $epl-search__submit--text-align;
		letter-spacing: $epl-search__submit--letter-spacing;

		font-size: $epl-search__submit--font-size;
		font-weight: $epl-search__submit--font-weight;

		transition: all 0.2s ease-in-out;
		box-shadow: none;

		&:hover {
			background: $epl-search__submit--hover--background;
			background-color: $epl-search__submit--hover--background-color;
			background-size: $epl-search__submit--hover--background-size;
			background-position: $epl-search__submit--hover--background-position;

			color: $epl-search__submit--hover--color;
			border-color: $epl-search__submit--hover--border-color;
			text-decoration: $epl-search__submit--hover--text-decoration;
		}

		&:focus {
			background: $epl-search__submit--focus--background;
			background-color: $epl-search__submit--focus--background-color;
			background-size: $epl-search__submit--focus--background-size;
			background-position: $epl-search__submit--focus--background-position;

			color: $epl-search__submit--focus--color;
			border-color: $epl-search__submit--focus--border-color;
			text-decoration: $epl-search__submit--focus--text-decoration;
		}
	}

	.epl-property_address {
		position: relative;
	}

	// Placeholder. (can't merge)
	::placeholder {
		color: $epl-search__placeholder--color;
		font-weight: $epl-search__placeholder--font-weight;
		font-size: $epl-search__placeholder--font-size;
		opacity: $epl-search__placeholder--opacity;
	}
	:-ms-input-placeholder {
		color: $epl-search__placeholder--color;
		font-weight: $epl-search__placeholder--font-weight;
		font-size: $epl-search__placeholder--font-size;
		opacity: $epl-search__placeholder--opacity;
	}
	::-ms-input-placeholder {
		color: $epl-search__placeholder--color;
		font-weight: $epl-search__placeholder--font-weight;
		font-size: $epl-search__placeholder--font-size;
		opacity: $epl-search__placeholder--opacity;
	}
}

// Missing target class.
// Style -- icon
.ui-autocomplete------icon {
	//display: block !important; // For styling.

	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
	transition: transform 0.3s ease, opacity 0.3s ease;
	border-radius: 10px;

	&::before {
		content: "Suggested locations";
		display: block;
		font-size: 0.8em;
		font-weight: 600;
		padding: 0.5em 0.5em;
	}
	li.ui-menu-item {
		padding: 1em 0.5em 1em 2em;
		position: relative;

		&::before {
			content: "";
			position: absolute;
			background: transparent url(images/icons/fa/map-pin-thin.svg)
				no-repeat;
			width: 30px;
			height: 30px;
			left: 0.5em;
		}

		&::after {
			content: "";
			position: absolute;
			background: transparent url(images/icons/fa/circle-plus-light.svg)
				no-repeat;
			width: 16px;
			height: 16px;
			top: 22px;
			right: 0.5em;
		}
	}
}

// Missing target class.
// Style -- Apple
.ui-autocomplete {
	//display: block !important; // For styling.

	background: hsla(0, 0%, 88%, 0.95);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
	transition: transform 0.3s ease, opacity 0.3s ease;
	border-radius: 10px;
	padding: 10px;
	overflow: hidden;

	&::after---blur {
		content: "";
		display: block;
		position: absolute;
		inset: 0;
		background: #dfdfdf;
		filter: blur(10px);
		opacity: 0.9;
		z-index: -1;
	}

	&::before {
		content: "Suggested locations";
		display: block;
		font-size: 0.8em;
		font-weight: 600;
		padding: 0.5em 0.5em;
	}
	li.ui-menu-item {
		padding: 5px;
		position: relative;
	}
	.ui-menu-item-wrapper {
		font-size: 12px;
	}
}

.epl-search-not-found-title {
	max-width: 100% !important;
}

.epl-search-not-found-message {
	margin-top: 3em;
	p {
		text-align: center;
	}
}
