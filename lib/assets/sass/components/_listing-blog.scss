@use "../abstracts" as *;

//---------------------------------------------
// Loop Card
//---------------------------------------------
.epl-shortcode {
	.epl-property-blog,
	.epl-property-blog.hentry {
		// Added as overide for some themes.
		background: $epl-property-blog--background;
	}
}

.epl-property-blog,
.epl-property-blog.hentry {
	display: $epl-property-blog--display;

	margin: $epl-property-blog--margin;
	padding: $epl-property-blog--padding;

	float: none;

	width: 100%;
	border: none;
	box-shadow: none;
	background: transparent;

	font-size: 1em;
	line-height: 1.2;

	position: relative;
	isolation: isolate;

	overflow: $epl-property-blog--overflow;

	grid-template-columns: $epl-property-blog--grid-template-columns;
	grid-template-rows: $epl-property-blog--grid-template-rows;
	column-gap: $epl-property-blog--column-gap;
	row-gap: $epl-property-blog--row-gap;

	flex-direction: $epl-property-blog--flex-direction;

	background: $epl-property-blog--background;

	border: $epl-property-blog--border;
	border-style: $epl-property-blog--border-style;
	border-radius: $epl-property-blog--border-radius;
	box-shadow: $epl-property-blog--box-shadow;
	max-width: $epl-property-blog--max-width;

	transform: $epl-property-blog--transform;
	transition: $epl-property-blog--transition;

	min-width: 0;
	> * {
	}

	a {
	}

	a:not(
			.epl-button,
			.epl-sticker,
			.epl-row__link,
			.epl-more-link,
			.epl-image-cover a
		) {
		color: $epl-color-secondary;
		text-decoration: none;
	}

	&:hover {
		background-color: $epl-property-blog__hover--background-color;
		border-color: $epl-property-blog__hover--border-color;
		box-shadow: $epl-property-blog__hover--box-shadow;
		transform: $epl-property-blog__hover--transform;

		.epl-blog-image {
			img {
				transform: $epl-property-blog__header__img__hover--transform;
				filter: $epl-property-blog__header__img__hover--filter;
				box-shadow: $epl-property-blog__header__img__hover--box-shadow;
			}
		}
	}

	.epl-property-blog-entry-wrapper {
		display: grid;
		grid-template-columns: 400px 1fr;
		gap: 0;

		float: none;
		-webkit-box-sizing: border-box;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
		margin: $epl-property-blog__entry-wrapper--margin;
		padding: $epl-property-blog__entry-wrapper--padding;
		overflow: hidden;
		height: 100%;
		
		@media screen and ( max-width: 820px ) {
			grid-template-columns: 300px 1fr;
		}
		@media screen and ( max-width: 600px ) {
			grid-template-columns: 1fr;
		}
	}

	.epl-row {
	}

	.epl-row--image {
	}
	.epl-row--content {
	}

	.epl-row--header {
		position: relative;
		box-sizing: border-box;
		display: $epl-property-blog__header--display;
		margin: $epl-property-blog__header--margin;
		padding: $epl-property-blog__header--padding;
		text-align: $epl-property-blog__header--text-align;
		//width: 100%;
		//height: 100%; // Causes issues.
		flex-direction: $epl-property-blog__header--flex-direction;
		justify-content: $epl-property-blog__header--justify-content;
		gap: $epl-property-blog__header--gap;
		overflow: $epl-property-blog__header--overflow;
		border-radius: $epl-property-blog__header--border-radius;
		min-width: 0;
	}

	.epl-row--content {
		//width: 100%;
		//height: 100%; // Causes issues.

		flex-basis: auto;
		flex-grow: 1;
		box-sizing: border-box;

		position: $epl-property-blog__content--position;
		inset: $epl-property-blog__content--inset;
		z-index: $epl-property-blog__content--z-index;
		display: $epl-property-blog__content--display;
		margin: $epl-property-blog__content--margin;
		padding: $epl-property-blog__content--padding;

		grid-template-columns: $epl-property-blog__content--grid-template-columns;
		flex-direction: $epl-property-blog__content--flex-direction;
		justify-content: $epl-property-blog__content--justify-content;
		align-items: $epl-property-blog__content--align-items;
		align-content: $epl-property-blog__content--align-content;
		gap: $epl-property-blog__content--gap;

		text-align: $epl-property-blog__content--text-align;
		background: $epl-property-blog__content--background;
		transition: $epl-property-blog__content--transition;
		min-width: 0;
	}

	&:hover {
		.epl-row--content {
			background: $epl-property-blog__content__hover--background;
		}
	}

	.epl-row--footer {
		position: $epl-property-blog__footer--position;
		inset: $epl-property-blog__footer--inset;
		z-index: $epl-property-blog__footer--z-index;
		display: $epl-property-blog__footer--display;
		margin: $epl-property-blog__footer--margin;
		padding: $epl-property-blog__footer--padding;

		grid-template-columns: $epl-property-blog__footer--grid-template-columns;
		flex-direction: $epl-property-blog__footer--flex-direction;
		justify-content: $epl-property-blog__footer--justify-content;
		align-items: $epl-property-blog__footer--align-items;
		align-content: $epl-property-blog__footer--align-content;
		gap: $epl-property-blog__footer--gap;

		transition: $epl-property-blog__footer--transition;
		opacity: $epl-property-blog__footer--opacity;

		background: $epl-property-blog__footer--background;
		border-top: $epl-property-blog__footer--border-top;
	}

	&:hover {
		.epl-row--footer {
			opacity: $epl-property-blog__footer__hover--opacity;
		}
	}

	.epl-archive-entry-image {
		width: 100%;
		height: 100%;
	}
	.epl-archive-entry-image a {
		width: 100%;
		height: 100%;
	}

	// Class Parent: .epl-row--featured-image
	.epl-blog-image {
		overflow: $epl-blog-image--overflow;
		height: $epl-blog-image--height;
		border-radius: $epl-blog-image--border-radius;

		img {
			display: $epl-property-blog__header__img--display;
			width: $epl-property-blog__header__img--width;
			height: $epl-property-blog__header__img--height;
			object-fit: $epl-property-blog__header__img--object-fit;
			max-width: $epl-property-blog__header__img--max-width;
			transition: $epl-property-blog__header__img--transition;
			filter: $epl-property-blog__header__img--filter;
			border-radius: $epl-property-blog__header__img--border-radius;
		}
	}

	.epl-icons,
	.property-feature-icons {
		margin-top: inherit;
	}
}

.epl-property-blog a.more-link,
.epl-property-blog a.epl-more-link {
	//display: none;
}

.epl-property-blog .epl-archive-entry-image a {
	display: block;
	box-shadow: none;
}

.epl-blog-image {
	position: relative;
}

//---------------------------------------------
// Loop Card - to Merge
//---------------------------------------------

/* Address */

.address-price {
	overflow: hidden;
}

.epl-property-blog .property-address .entry-title-sub {
	display: block;
}

//---------------------------------------------
// Pricing
//---------------------------------------------

.epl-property-blog .price {
	margin: 0;
}
.epl-property-blog .price-prefix {
	font-weight: bold;
}
.epl-property-blog .bond {
	padding-left: 1em;
}

.sold-status,
.page-price.sold {
	text-transform: uppercase;
	color: #f00;
}
.under-offer-status {
	color: #ffa500;
}

/* Property Status */
.property-under-offer,
.property-sold,
.property-leased {
	color: #f64;
	font-weight: bold;
	text-transform: uppercase;
}
.property-under-offer {
	color: #ffa042;
}

//-----------------------------------------------------
// Grid View
//-----------------------------------------------------

.epl-listing-grid-view,
.epl-listing-grid-view.hentry,
.epl-property-blog.epl-listing-grid-view,
.epl-property-blog.epl-listing-grid-view-forced,
.epl-listing-grid-view-forced,
.epl-listing-grid-view-forced.hentry {
	display: flex;
	grid-column: initial;
	flex-direction: column;

	grid-template-rows: initial;
	justify-content: space-between;

	margin: 0;
	padding: 0;
	float: none;
	display: inline-block;
	vertical-align: top;
	width: 100%;

	clear: none !important;

	.epl-property-blog-entry-wrapper {
		display: flex;
		flex-direction: column;

		float: none;
		-webkit-box-sizing: border-box;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
		margin: $epl-property-blog__entry-wrapper--margin;
		padding: $epl-property-blog__entry-wrapper--padding;
		overflow: hidden;
		height: 100%;

		display: flex;
		flex-direction: column;
	}

	.entry-title-sub {
		display: block;
	}

	.epl-icons,
	.property-feature-icons {
	}

	.epl-row {
	}

	.epl-row--content {
		display: $epl-property-blog__content__grid-mode--display;
		justify-content: $epl-property-blog__content__grid-mode--justify-content;
		align-items: $epl-property-blog__content__grid-mode--align-items;
	}
}

/* Property Card and Blog*/

.epl-listing-grid-view .epl-property-blog-entry-wrapper,
.epl-listing-grid-view-forced .epl-property-blog-entry-wrapper {
	margin: $epl-property-blog-grid__entry-wrapper--margin;
	padding: $epl-property-blog-grid__entry-wrapper--padding;
}

.epl-featured-image {
	a {
		display: block;
	}
	img {
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
		width: 100%;
		max-width: 100%;
		height: auto !important;
	}
}

.epl-listing-grid-view.epl-property-blog.masonry-brick {
}

.epl-listing-type {
	padding-right: 20px;
	text-transform: capitalize;
}
.epl-listing-status {
	float: right;
	padding-left: 20px;
	text-transform: capitalize;
}
.type_current {
	font-weight: normal;
	color: green;
}
.type_sold,
.type_leased {
	font-weight: bold;
	color: red;
}
.type_under_offer {
	font-weight: bold;
	color: #ffa500;
}

//---------------------------------------------
// iThemes Builder discontinued classes
//---------------------------------------------

.builder-module-content .epl-property-blog.hentry {
	margin: 0;
	padding: 0;
	border: none;
	box-shadow: none;
	background: transparent;
}

.builder-module-content .epl-listing-grid-view.hentry,
.builder-module-content .epl-listing-grid-view-forced.hentry {
	margin: 0;
	padding: 0;
	float: none;
	display: inline-block;
	vertical-align: top;
	width: 33.3%;
}

.builder-module-content .epl-property-blog.hentry .entry-content {
	padding: 0;
	overflow: hidden;
}

//---------------------------------------------
// Responsive
//---------------------------------------------

@media screen and (max-width: 767px) {
	.epl-property-blog .property-links a.epl-button {
		width: 100%;
		padding: 0;
	}
}

@media screen and (max-width: 500px) {
}
