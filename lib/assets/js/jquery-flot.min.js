!function(a){a.color={},a.color.make=function(t,e,i,n){var o={};return o.r=t||0,o.g=e||0,o.b=i||0,o.a=null!=n?n:1,o.add=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]+=e;return o.normalize()},o.scale=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]*=e;return o.normalize()},o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,i){return e<t?t:i<e?i:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return a.color.make(o.r,o.b,o.g,o.a)},o.normalize()},a.color.extract=function(t,e){for(var i;(""==(i=t.css(e).toLowerCase())||"transparent"==i)&&(t=t.parent(),!a.nodeName(t.get(0),"body")););return a.color.parse(i="rgba(0, 0, 0, 0)"==i?"transparent":i)},a.color.parse=function(t){var e,i=a.color.make;return(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)):(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))?i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3])):(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))?i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4])):(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?i(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?i(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)):"transparent"==(t=a.trim(t).toLowerCase())?i(255,255,255,0):i((e=n[t]||[0,0,0])[0],e[1],e[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(Z){function n(I,T,t,e){var n,o,P=[],H={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},a=null,r=null,u=null,g=null,l=null,O=[],Y=[],w={left:0,right:0,top:0,bottom:0},U=0,N=0,C=0,S=0,j={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},x=this;x.setData=h,x.setupGrid=W,x.draw=A,x.getPlaceholder=function(){return I},x.getCanvas=function(){return a},x.getPlotOffset=function(){return w},x.width=function(){return C},x.height=function(){return S},x.offset=function(){var t=u.offset();return t.left+=w.left,t.top+=w.top,t},x.getData=function(){return P},x.getAxes=function(){var i={};return Z.each(O.concat(Y),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},x.getXAxes=function(){return O},x.getYAxes=function(){return Y},x.c2p=m,x.p2c=function(t){var e,i,n,o={};for(e=0;e<O.length;++e)if((i=O[e])&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){o.left=i.p2c(t[n]);break}for(e=0;e<Y.length;++e)if((i=Y[e])&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){o.top=i.p2c(t[n]);break}return o},x.getOptions=function(){return H},x.highlight=J,x.unhighlight=Q,x.triggerRedrawOverlay=y,x.pointOffset=function(t){return{left:parseInt(O[E(t,"x")-1].p2c(+t.x)+w.left),top:parseInt(Y[E(t,"y")-1].p2c(+t.y)+w.top)}},x.shutdown=function(){v&&clearTimeout(v);u.unbind("mousemove",B),u.unbind("mouseleave",q),u.unbind("click",G),R(j.shutdown,[u])},x.resize=function(){M(),z(a),z(r)},x.hooks=j;for(var s=0;s<e.length;++s){var c=e[s];c.init(x),c.options&&Z.extend(!0,H,c.options)}for(Z.extend(!0,H,t),null==H.xaxis.color&&(H.xaxis.color=H.grid.color),null==H.yaxis.color&&(H.yaxis.color=H.grid.color),null==H.xaxis.tickColor&&(H.xaxis.tickColor=H.grid.tickColor),null==H.yaxis.tickColor&&(H.yaxis.tickColor=H.grid.tickColor),null==H.grid.borderColor&&(H.grid.borderColor=H.grid.color),null==H.grid.tickColor&&(H.grid.tickColor=Z.color.parse(H.grid.color).scale("a",.22).toString()),n=0;n<Math.max(1,H.xaxes.length);++n)H.xaxes[n]=Z.extend(!0,{},H.xaxis,H.xaxes[n]);for(n=0;n<Math.max(1,H.yaxes.length);++n)H.yaxes[n]=Z.extend(!0,{},H.yaxis,H.yaxes[n]);for(H.xaxis.noTicks&&null==H.xaxis.ticks&&(H.xaxis.ticks=H.xaxis.noTicks),H.yaxis.noTicks&&null==H.yaxis.ticks&&(H.yaxis.ticks=H.yaxis.noTicks),H.x2axis&&(H.xaxes[1]=Z.extend(!0,{},H.xaxis,H.x2axis),H.xaxes[1].position="top"),H.y2axis&&(H.yaxes[1]=Z.extend(!0,{},H.yaxis,H.y2axis),H.yaxes[1].position="right"),H.grid.coloredAreas&&(H.grid.markings=H.grid.coloredAreas),H.grid.coloredAreasColor&&(H.grid.markingsColor=H.grid.coloredAreasColor),H.lines&&Z.extend(!0,H.series.lines,H.lines),H.points&&Z.extend(!0,H.series.points,H.points),H.bars&&Z.extend(!0,H.series.bars,H.bars),null!=H.shadowSize&&(H.series.shadowSize=H.shadowSize),n=0;n<H.xaxes.length;++n)X(O,n+1).options=H.xaxes[n];for(n=0;n<H.yaxes.length;++n)X(Y,n+1).options=H.yaxes[n];for(o in j)H.hooks[o]&&H.hooks[o].length&&(j[o]=j[o].concat(H.hooks[o]));R(j.processOptions,[H]);var t=I.children("canvas.base"),d=I.children("canvas.overlay");function R(t,e){e=[x].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function h(t){var e,i=(P=function(t){for(var e=[],i=0;i<t.length;++i){var n=Z.extend(!0,{},H.series);null!=t[i].data?(n.data=t[i].data,delete t[i].data,Z.extend(!0,n,t[i]),t[i].data=n.data):n.data=t[i],e.push(n)}return e}(t)).length,n=[],o=[];for(e=0;e<P.length;++e){var a=P[e].color;null!=a&&(--i,"number"==typeof a?o.push(a):n.push(Z.color.parse(P[e].color)))}for(e=0;e<o.length;++e)i=Math.max(i,o[e]+1);var r,l=[],s=0;for(e=0;l.length<i;){r=H.colors.length==e?Z.color.make(100,100,100):Z.color.parse(H.colors[e]);var c=s%2==1?-1:1;r.scale("rgb",1+c*Math.ceil(s/2)*.2),l.push(r),++e>=H.colors.length&&(e=0,++s)}var u,d=0;for(e=0;e<P.length;++e){if(null==(u=P[e]).color?(u.color=l[d].toString(),++d):"number"==typeof u.color&&(u.color=l[u.color].toString()),null==u.lines.show){var h,m=!0;for(h in u)if(u[h]&&u[h].show){m=!1;break}m&&(u.lines.show=!0)}u.xaxis=X(O,E(u,"x")),u.yaxis=X(Y,E(u,"y"))}var p,f,x,g,b,v,k,y,T,M,w=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,S=Number.MAX_VALUE;function z(t,e,i){e<t.datamin&&e!=-S&&(t.datamin=e),i>t.datamax&&i!=S&&(t.datamax=i)}for(Z.each(V(),function(t,e){e.datamin=w,e.datamax=C,e.used=!1}),p=0;p<P.length;++p)(b=P[p]).datapoints={points:[]},R(j.processRawData,[b,b.data,b.datapoints]);for(p=0;p<P.length;++p){var W=(b=P[p]).data,A=b.datapoints.format;if(A||((A=[]).push({x:!0,number:!0,required:!0}),A.push({y:!0,number:!0,required:!0}),(b.bars.show||b.lines.show&&b.lines.fill)&&(A.push({y:!0,number:!0,required:!1,defaultValue:0}),b.bars.horizontal)&&(delete A[A.length-1].y,A[A.length-1].x=!0),b.datapoints.format=A),null==b.datapoints.pointsize)for(b.datapoints.pointsize=A.length,k=b.datapoints.pointsize,v=b.datapoints.points,insertSteps=b.lines.show&&b.lines.steps,b.xaxis.used=b.yaxis.used=!0,f=x=0;f<W.length;++f,x+=k){var F=null==(M=W[f]);if(!F)for(g=0;g<k;++g)y=M[g],(T=A[g])&&(T.number&&null!=y&&(y=+y,isNaN(y)?y=null:y==1/0?y=S:y==-1/0&&(y=-S)),null==y)&&(T.required&&(F=!0),null!=T.defaultValue)&&(y=T.defaultValue),v[x+g]=y;if(F)for(g=0;g<k;++g)null!=(y=v[x+g])&&((T=A[g]).x&&z(b.xaxis,y,y),T.y)&&z(b.yaxis,y,y),v[x+g]=null;else if(insertSteps&&0<x&&null!=v[x-k]&&v[x-k]!=v[x]&&v[x-k+1]!=v[x+1]){for(g=0;g<k;++g)v[x+k+g]=v[x+g];v[x+1]=v[x-k+1],x+=k}}}for(p=0;p<P.length;++p)b=P[p],R(j.processDatapoints,[b,b.datapoints]);for(p=0;p<P.length;++p){b=P[p],v=b.datapoints.points,k=b.datapoints.pointsize;var I,U=w,N=w,D=C,L=C;for(f=0;f<v.length;f+=k)if(null!=v[f])for(g=0;g<k;++g)y=v[f+g],(T=A[g])&&y!=S&&y!=-S&&(T.x&&(y<U&&(U=y),D<y)&&(D=y),T.y)&&(y<N&&(N=y),L<y)&&(L=y);b.bars.show&&(I="left"==b.bars.align?0:-b.bars.barWidth/2,b.bars.horizontal?(N+=I,L+=I+b.bars.barWidth):(U+=I,D+=I+b.bars.barWidth)),z(b.xaxis,U,D),z(b.yaxis,N,L)}Z.each(V(),function(t,e){e.datamin==w&&(e.datamin=null),e.datamax==C&&(e.datamax=null)})}function E(t,e){t=t[e+"axis"];return t="number"!=typeof(t="object"==typeof t?t.n:t)?1:t}function V(){return Z.grep(O.concat(Y),function(t){return t})}function m(t){for(var e,i={},n=0;n<O.length;++n)(e=O[n])&&e.used&&(i["x"+e.n]=e.c2p(t.left));for(n=0;n<Y.length;++n)(e=Y[n])&&e.used&&(i["y"+e.n]=e.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function X(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==O?"x":"y",options:Z.extend(!0,{},t==O?H.xaxis:H.yaxis)}),t[e-1]}function p(t,e){var i=document.createElement("canvas");return i.className=e,i.width=U,i.height=N,t||Z(i).css({position:"absolute",left:0,top:0}),Z(i).appendTo(I),(i=i.getContext?i:window.G_vmlCanvasManager.initElement(i)).getContext("2d").save(),i}function M(){if(U=I.width(),N=I.height(),U<=0||N<=0)throw"Invalid dimensions for plot, width = "+U+", height = "+N}function z(t){t.width!=U&&(t.width=U),t.height!=N&&(t.height=N);t=t.getContext("2d");t.restore(),t.save()}function W(){var t,e=V();if(Z.each(e,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace;var i,n=e.options,o=+(null!=n.min?n.min:e.datamin),a=+(null!=n.max?n.max:e.datamax),r=a-o;0==r?(i=0==a?1:.01,null==n.min&&(o-=i),null!=n.max&&null==n.min||(a+=i)):null!=(i=n.autoscaleMargin)&&(null==n.min&&(o-=r*i)<0&&null!=e.datamin&&0<=e.datamin&&(o=0),null==n.max)&&0<(a+=r*i)&&null!=e.datamax&&e.datamax<=0&&(a=0),e.min=o,e.max=a}),allocatedAxes=Z.grep(e,function(t){return t.reserveSpace}),w.left=w.right=w.top=w.bottom=0,H.grid.show){for(Z.each(allocatedAxes,function(t,e){var i=e,o=i.options;m="number"==typeof o.ticks&&0<o.ticks?o.ticks:.3*Math.sqrt("x"==i.direction?U:N);var n,a,r,l,s=(i.max-i.min)/m;if("time"==o.mode){var d={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},c=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],u=0;null!=o.minTickSize&&(u="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*d[o.minTickSize[1]]);for(var h=0;h<c.length-1&&!(s<(c[h][0]*d[c[h][1]]+c[h+1][0]*d[c[h+1][1]])/2&&c[h][0]*d[c[h][1]]>=u);++h);g=c[h][0],"year"==(m=c[h][1])&&(l=Math.pow(10,Math.floor(Math.log(s/d.year)/Math.LN10)),g=(b=s/d.year/l)<1.5?1:b<3?2:b<7.5?5:10,g*=l),i.tickSize=o.tickSize||[g,m],n=function(t){var e=[],i=t.tickSize[0],n=t.tickSize[1],o=new Date(t.min),a=i*d[n],r=("second"==n&&o.setUTCSeconds(tt(o.getUTCSeconds(),i)),"minute"==n&&o.setUTCMinutes(tt(o.getUTCMinutes(),i)),"hour"==n&&o.setUTCHours(tt(o.getUTCHours(),i)),"month"==n&&o.setUTCMonth(tt(o.getUTCMonth(),i)),"year"==n&&o.setUTCFullYear(tt(o.getUTCFullYear(),i)),o.setUTCMilliseconds(0),d.minute<=a&&o.setUTCSeconds(0),d.hour<=a&&o.setUTCMinutes(0),d.day<=a&&o.setUTCHours(0),4*d.day<=a&&o.setUTCDate(1),d.year<=a&&o.setUTCMonth(0),0),l=Number.NaN;do{var s,c,u=l,l=o.getTime()}while(e.push(l),"month"==n?i<1?(o.setUTCDate(1),s=o.getTime(),o.setUTCMonth(o.getUTCMonth()+1),c=o.getTime(),o.setTime(l+r*d.hour+(c-s)*i),r=o.getUTCHours(),o.setUTCHours(0)):o.setUTCMonth(o.getUTCMonth()+i):"year"==n?o.setUTCFullYear(o.getUTCFullYear()+i):o.setTime(l+a),l<t.max&&l!=u);return e},a=function(t,e){var i,n,t=new Date(t);return null!=o.timeformat?Z.plot.formatDate(t,o.timeformat,o.monthNames):(i=e.tickSize[0]*d[e.tickSize[1]],e=e.max-e.min,n=o.twelveHourClock?" %p":"",fmt=i<d.minute?"%h:%M:%S"+n:i<d.day?e<2*d.day?"%h:%M"+n:"%b %d %h:%M"+n:i<d.month?"%b %d":i<d.year?e<d.year?"%b":"%b %y":"%y",Z.plot.formatDate(t,fmt,o.monthNames))}}else{var m=o.tickDecimals,p=-Math.floor(Math.log(s)/Math.LN10);null!=m&&m<p&&(p=m),l=Math.pow(10,-p),(b=s/l)<1.5?g=1:b<3?(g=2,2.25<b&&(null==m||p+1<=m)&&(g=2.5,++p)):g=b<7.5?5:10,g*=l,null!=o.minTickSize&&g<o.minTickSize&&(g=o.minTickSize),i.tickDecimals=Math.max(0,null!=m?m:p),i.tickSize=o.tickSize||g,n=function(t){for(var e,i=[],n=tt(t.min,t.tickSize),o=0,a=Number.NaN;e=a,a=n+o*t.tickSize,i.push(a),++o,a<t.max&&a!=e;);return i},a=function(t,e){return t.toFixed(e.tickDecimals)}}null!=o.alignTicksWithAxis&&(r=("x"==i.direction?O:Y)[o.alignTicksWithAxis-1])&&r.used&&r!=i&&(0<(b=n(i)).length&&(null==o.min&&(i.min=Math.min(i.min,b[0])),null==o.max)&&1<b.length&&(i.max=Math.max(i.max,b[b.length-1])),n=function(t){for(var e,i=[],n=0;n<r.ticks.length;++n)e=(r.ticks[n].v-r.min)/(r.max-r.min),e=t.min+e*(t.max-t.min),i.push(e);return i},"time"!=i.mode)&&null==o.tickDecimals&&(l=Math.max(0,1-Math.floor(Math.log(s)/Math.LN10)),1<(m=n(i)).length&&/\..*0$/.test((m[1]-m[0]).toFixed(l))||(i.tickDecimals=l)),i.tickGenerator=n,Z.isFunction(o.tickFormatter)?i.tickFormatter=function(t,e){return""+o.tickFormatter(t,e)}:i.tickFormatter=a;var f,x,g,b,v=e,p=v.options.ticks,k=[];for(null==p||"number"==typeof p&&0<p?k=v.tickGenerator(v):p&&(k=Z.isFunction(p)?p({min:v.min,max:v.max}):p),v.ticks=[],f=0;f<k.length;++f){var y=null,T=k[f];"object"==typeof T?(x=+T[0],1<T.length&&(y=T[1])):x=+T,null==y&&(y=v.tickFormatter(x,v)),isNaN(x)||v.ticks.push({v:x,label:y})}b=(g=e).ticks,g.options.autoscaleMargin&&0<b.length&&(null==g.options.min&&(g.min=Math.min(g.min,b[0].v)),null==g.options.max)&&1<b.length&&(g.max=Math.max(g.max,b[b.length-1].v));var M,w,C,S=e,m=S.options,z=S.ticks||[],W=[],A=m.labelWidth,m=m.labelHeight;function F(t,e){return Z('<div style="position:absolute;top:-10000px;'+e+'font-size:smaller"><div class="'+S.direction+"Axis "+S.direction+S.n+'Axis">'+t.join("")+"</div></div>").appendTo(I)}if("x"==S.direction){if(null==A&&(A=Math.floor(U/(0<z.length?z.length:1))),null==m){for(W=[],M=0;M<z.length;++M)(w=z[M].label)&&W.push('<div class="tickLabel" style="float:left;width:'+A+'px">'+w+"</div>");0<W.length&&(W.push('<div style="clear:left"></div>'),m=(C=F(W,"width:10000px;")).height(),C.remove())}}else if(null==A||null==m){for(M=0;M<z.length;++M)(w=z[M].label)&&W.push('<div class="tickLabel">'+w+"</div>");0<W.length&&(C=F(W,""),null==A&&(A=C.children().width()),null==m&&(m=C.find("div.tickLabel").height()),C.remove())}null==m&&(m=0),S.labelWidth=A=null==A?0:A,S.labelHeight=m}),t=allocatedAxes.length-1;0<=t;--t)!function(t){var e=t.labelWidth,i=t.labelHeight,n=t.options.position,o=t.options.tickLength,a=H.grid.axisMargin,r=H.grid.labelMargin,l="x"==t.direction?O:Y,s=Z.grep(l,function(t){return t&&t.options.position==n&&t.reserveSpace}),s=(Z.inArray(t,s)==s.length-1&&(a=0),null==o&&(o="full"),Z.grep(l,function(t){return t&&t.reserveSpace}));(l=0==Z.inArray(t,s))||"full"!=o||(o=5),isNaN(+o)||(r+=+o),"x"==t.direction?(i+=r,"bottom"==n?(w.bottom+=i+a,t.box={top:N-w.bottom,height:i}):(t.box={top:w.top+a,height:i},w.top+=i+a)):(e+=r,"left"==n?(t.box={left:w.left+a,width:e},w.left+=e+a):(w.right+=e+a,t.box={left:U-w.right,width:e})),t.position=n,t.tickLength=o,t.box.padding=r,t.innermost=l}(allocatedAxes[t]);var i,n=H.grid.minBorderMargin;if(null==n)for(t=n=0;t<P.length;++t)n=Math.max(n,P[t].points.radius+P[t].points.lineWidth/2);for(i in w)w[i]+=H.grid.borderWidth,w[i]=Math.max(n,w[i])}if(C=U-w.left-w.right,S=N-w.bottom-w.top,Z.each(e,function(t,e){function i(t){return t}var n,o,a,r;o=(e=e).options.transform||i,a=e.options.inverseTransform,r="x"==e.direction?(n=e.scale=C/Math.abs(o(e.max)-o(e.min)),Math.min(o(e.max),o(e.min))):(n=-(n=e.scale=S/Math.abs(o(e.max)-o(e.min))),Math.max(o(e.max),o(e.min))),e.p2c=o==i?function(t){return(t-r)*n}:function(t){return(o(t)-r)*n},e.c2p=a?function(t){return a(r+t/n)}:function(t){return r+t/n}}),H.grid.show){Z.each(allocatedAxes,function(t,e){"x"==(e=e).direction?(e.box.left=w.left,e.box.width=C):(e.box.top=w.top,e.box.height=S)}),I.find(".tickLabels").remove();for(var o=['<div class="tickLabels" style="font-size:smaller">'],a=V(),r=0;r<a.length;++r){var l=a[r],s=l.box;if(l.show){o.push('<div class="'+l.direction+"Axis "+l.direction+l.n+'Axis" style="color:'+l.options.color+'">');for(var c=0;c<l.ticks.length;++c){var u=l.ticks[c];if(!(!u.label||u.v<l.min||u.v>l.max)){var d,h,m={},p=("x"==l.direction?(d="center",m.left=Math.round(w.left+l.p2c(u.v)-l.labelWidth/2),"bottom"==l.position?m.top=s.top+s.padding:m.bottom=N-(s.top+s.height-s.padding)):(m.top=Math.round(w.top+l.p2c(u.v)-l.labelHeight/2),d="left"==l.position?(m.right=U-(s.left+s.width-s.padding),"right"):(m.left=s.left+s.padding,"left")),m.width=l.labelWidth,["position:absolute","text-align:"+d]);for(h in m)p.push(h+":"+m[h]+"px"),o.push('<div class="tickLabel" style="'+p.join(";")+'">'+u.label+"</div>")}}o.push("</div>")}}o.push("</div>"),I.append(o.join(""))}if(I.find(".legend").remove(),H.legend.show){for(var f,x,g,b,v,k=[],y=!1,T=H.legend.labelFormatter,M=0;M<P.length;++M)f=P[M],(x=f.label)&&(M%H.legend.noColumns==0&&(y&&k.push("</tr>"),k.push("<tr>"),y=!0),T&&(x=T(x,f)),k.push('<td class="legendColorBox"><div style="border:1px solid '+H.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+f.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+x+"</td>"));y&&k.push("</tr>"),0!=k.length&&(e='<table style="font-size:smaller;color:'+H.grid.color+'">'+k.join("")+"</table>",null!=H.legend.container?Z(H.legend.container).html(e):(g="",b=H.legend.position,null==(v=H.legend.margin)[0]&&(v=[v,v]),"n"==b.charAt(0)?g+="top:"+(v[1]+w.top)+"px;":"s"==b.charAt(0)&&(g+="bottom:"+(v[1]+w.bottom)+"px;"),"e"==b.charAt(1)?g+="right:"+(v[0]+w.right)+"px;":"w"==b.charAt(1)&&(g+="left:"+(v[0]+w.left)+"px;"),b=Z('<div class="legend">'+e.replace('style="','style="position:absolute;'+g+";")+"</div>").appendTo(I),0!=H.legend.backgroundOpacity&&(null==(v=H.legend.backgroundColor)&&((v=(v=H.grid.backgroundColor)&&"string"==typeof v?Z.color.parse(v):Z.color.extract(b,"background-color")).a=1,v=v.toString()),e=b.children(),Z('<div style="position:absolute;width:'+e.width()+"px;height:"+e.height()+"px;"+g+"background-color:"+v+';"> </div>').prependTo(b).css("opacity",H.legend.backgroundOpacity))))}}function A(){g.clearRect(0,0,U,N);var t=H.grid;t.show&&t.backgroundColor&&(g.save(),g.translate(w.left,w.top),g.fillStyle=K(H.grid.backgroundColor,S,0,"rgba(255, 255, 255, 0)"),g.fillRect(0,0,C,S),g.restore()),t.show&&!t.aboveData&&D();for(var e=0;e<P.length;++e){R(j.drawSeries,[g,P[e]]),i=void 0;var i=P[e];if(i.lines.show){n=void 0;a=void 0;r=void 0;l=void 0;var n=i;var o=function(t,e,i,n,o){var a=t.points,r=t.pointsize,l=null,s=null;g.beginPath();for(var c=r;c<a.length;c+=r){var u=a[c-r],d=a[c-r+1],h=a[c],m=a[c+1];if(null!=u&&null!=h){if(d<=m&&d<o.min){if(m<o.min)continue;u=(o.min-d)/(m-d)*(h-u)+u,d=o.min}else if(m<=d&&m<o.min){if(d<o.min)continue;h=(o.min-d)/(m-d)*(h-u)+u,m=o.min}if(m<=d&&d>o.max){if(m>o.max)continue;u=(o.max-d)/(m-d)*(h-u)+u,d=o.max}else if(d<=m&&m>o.max){if(d>o.max)continue;h=(o.max-d)/(m-d)*(h-u)+u,m=o.max}if(u<=h&&u<n.min){if(h<n.min)continue;d=(n.min-u)/(h-u)*(m-d)+d,u=n.min}else if(h<=u&&h<n.min){if(u<n.min)continue;m=(n.min-u)/(h-u)*(m-d)+d,h=n.min}if(h<=u&&u>n.max){if(h>n.max)continue;d=(n.max-u)/(h-u)*(m-d)+d,u=n.max}else if(u<=h&&h>n.max){if(u>n.max)continue;m=(n.max-u)/(h-u)*(m-d)+d,h=n.max}u==l&&d==s||g.moveTo(n.p2c(u)+e,o.p2c(d)+i),l=h,s=m,g.lineTo(n.p2c(h)+e,o.p2c(m)+i)}}g.stroke()};g.save(),g.translate(w.left,w.top),g.lineJoin="round";var a=n.lines.lineWidth,r=n.shadowSize;0<a&&0<r&&(g.lineWidth=r,g.strokeStyle="rgba(0,0,0,0.1)",l=Math.PI/18,o(n.datapoints,Math.sin(l)*(a/2+r/2),Math.cos(l)*(a/2+r/2),n.xaxis,n.yaxis),g.lineWidth=r/2,o(n.datapoints,Math.sin(l)*(a/2+r/4),Math.cos(l)*(a/2+r/4),n.xaxis,n.yaxis));g.lineWidth=a,g.strokeStyle=n.color;var l=f(n.lines,n.color,0,S);l&&(g.fillStyle=l,function(t,e,i){for(var n=t.points,o=t.pointsize,a=Math.min(Math.max(0,i.min),i.max),r=0,l=!1,s=1,c=0,u=0;!(0<o&&r>n.length+o);){var d,h,m=n[(r+=o)-o],p=n[r-o+s],f=n[r],x=n[r+s];if(l){if(0<o&&null!=m&&null==f){u=r,o=-o,s=2;continue}if(o<0&&r==c+o){g.fill(),l=!1,s=1,r=c=u+(o=-o);continue}}if(null!=m&&null!=f){if(m<=f&&m<e.min){if(f<e.min)continue;p=(e.min-m)/(f-m)*(x-p)+p,m=e.min}else if(f<=m&&f<e.min){if(m<e.min)continue;x=(e.min-m)/(f-m)*(x-p)+p,f=e.min}if(f<=m&&m>e.max){if(f>e.max)continue;p=(e.max-m)/(f-m)*(x-p)+p,m=e.max}else if(m<=f&&f>e.max){if(m>e.max)continue;x=(e.max-m)/(f-m)*(x-p)+p,f=e.max}l||(g.beginPath(),g.moveTo(e.p2c(m),i.p2c(a)),l=!0),p>=i.max&&x>=i.max?(g.lineTo(e.p2c(m),i.p2c(i.max)),g.lineTo(e.p2c(f),i.p2c(i.max))):p<=i.min&&x<=i.min?(g.lineTo(e.p2c(m),i.p2c(i.min)),g.lineTo(e.p2c(f),i.p2c(i.min))):(d=m,h=f,p<=x&&p<i.min&&x>=i.min?(m=(i.min-p)/(x-p)*(f-m)+m,p=i.min):x<=p&&x<i.min&&p>=i.min&&(f=(i.min-p)/(x-p)*(f-m)+m,x=i.min),x<=p&&p>i.max&&x<=i.max?(m=(i.max-p)/(x-p)*(f-m)+m,p=i.max):p<=x&&x>i.max&&p<=i.max&&(f=(i.max-p)/(x-p)*(f-m)+m,x=i.max),m!=d&&g.lineTo(e.p2c(d),i.p2c(p)),g.lineTo(e.p2c(m),i.p2c(p)),g.lineTo(e.p2c(f),i.p2c(x)),f!=h&&(g.lineTo(e.p2c(f),i.p2c(x)),g.lineTo(e.p2c(h),i.p2c(x))))}}}(n.datapoints,n.xaxis,n.yaxis));0<a&&o(n.datapoints,0,0,n.xaxis,n.yaxis);g.restore()}if(i.bars.show&&!function(u){g.save(),g.translate(w.left,w.top),g.lineWidth=u.bars.lineWidth,g.strokeStyle=u.color;var t="left"==u.bars.align?0:-u.bars.barWidth/2,e=u.bars.fill?function(t,e){return f(u.bars,u.color,t,e)}:null;(function(t,e,i,n,o,a,r){for(var l=t.points,s=t.pointsize,c=0;c<l.length;c+=s)null!=l[c]&&L(l[c],l[c+1],l[c+2],e,i,n,o,a,r,g,u.bars.horizontal,u.bars.lineWidth)})(u.datapoints,t,t+u.bars.barWidth,0,e,u.xaxis,u.yaxis),g.restore()}(i),i.points.show){r=void 0;l=void 0;a=void 0;o=void 0;n=void 0;r=i;i=function(t,e,i,n,o,a,r,l){for(var s=t.points,c=t.pointsize,u=0;u<s.length;u+=c){var d=s[u],h=s[u+1];null==d||d<a.min||d>a.max||h<r.min||h>r.max||(g.beginPath(),d=a.p2c(d),h=r.p2c(h)+n,"circle"==l?g.arc(d,h,e,0,o?Math.PI:2*Math.PI,!1):l(g,d,h,e,o),g.closePath(),i&&(g.fillStyle=i,g.fill()),g.stroke())}};g.save(),g.translate(w.left,w.top);l=r.points.lineWidth,a=r.shadowSize,o=r.points.radius,n=r.points.symbol;0<l&&0<a&&(a=a/2,g.lineWidth=a,g.strokeStyle="rgba(0,0,0,0.1)",i(r.datapoints,o,null,a+a/2,!0,r.xaxis,r.yaxis,n),g.strokeStyle="rgba(0,0,0,0.2)",i(r.datapoints,o,null,a/2,!0,r.xaxis,r.yaxis,n));g.lineWidth=l,g.strokeStyle=r.color,i(r.datapoints,o,f(r.points,r.color),0,!1,r.xaxis,r.yaxis,n),g.restore()}}R(j.draw,[g]),t.show&&t.aboveData&&D()}function F(t,e){var n,o,a,r,l,s=V();for(i=0;i<s.length;++i)if((n=s[i]).direction==e&&t[o=t[o=e+n.n+"axis"]||1!=n.n?o:e+"axis"]){r=t[o].from,l=t[o].to;break}return t[o]||(n=("x"==e?O:Y)[0],r=t[e+"1"],l=t[e+"2"]),null!=r&&null!=l&&l<r&&(a=r,r=l,l=a),{from:r,to:l,axis:n}}function D(){g.save(),g.translate(w.left,w.top);var t,e=H.grid.markings;if(e)for(Z.isFunction(e)&&((a=x.getAxes()).xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,e=e(a)),t=0;t<e.length;++t){var i=e[t],n=F(i,"x"),o=F(i,"y");null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),n.to<n.axis.min||n.from>n.axis.max||o.to<o.axis.min||o.from>o.axis.max||(n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),n.from==n.to&&o.from==o.to)||(n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),n.from==n.to||o.from==o.to?(g.beginPath(),g.strokeStyle=i.color||H.grid.markingsColor,g.lineWidth=i.lineWidth||H.grid.markingsLineWidth,g.moveTo(n.from,o.from),g.lineTo(n.to,o.to),g.stroke()):(g.fillStyle=i.color||H.grid.markingsColor,g.fillRect(n.from,o.to,n.to-n.from,o.from-o.to)))}for(var a=V(),r=H.grid.borderWidth,l=0;l<a.length;++l){var s,c,u,d=a[l],h=d.box,m=d.tickLength;if(d.show&&0!=d.ticks.length){for(g.lineWidth=1,"x"==d.direction?(s=0,c="full"==m?"top"==d.position?0:S:h.top-w.top+("top"==d.position?h.height:0)):(c=0,s="full"==m?"left"==d.position?0:C:h.left-w.left+("left"==d.position?h.width:0)),d.innermost||(g.beginPath(),f=u=0,"x"==d.direction?f=C:u=S,1==g.lineWidth&&(s=Math.floor(s)+.5,c=Math.floor(c)+.5),g.moveTo(s,c),g.lineTo(s+f,c+u),g.stroke()),g.beginPath(),t=0;t<d.ticks.length;++t){var p=d.ticks[t].v,f=u=0;p<d.min||p>d.max||"full"==m&&0<r&&(p==d.min||p==d.max)||("x"==d.direction?(s=d.p2c(p),u="full"==m?-S:m,"top"==d.position&&(u=-u)):(c=d.p2c(p),f="full"==m?-C:m,"left"==d.position&&(f=-f)),1==g.lineWidth&&("x"==d.direction?s=Math.floor(s)+.5:c=Math.floor(c)+.5),g.moveTo(s,c),g.lineTo(s+f,c+u))}g.stroke()}}r&&(g.lineWidth=r,g.strokeStyle=H.grid.borderColor,g.strokeRect(-r/2,-r/2,C+r,S+r)),g.restore()}function L(t,e,i,n,o,a,r,l,s,c,u,d){var h,m,p,f,x,g,b,v,k;u?(x=!(v=g=b=!0),f=e+n,p=e+o,(m=t)<(h=i)&&(k=m,m=h,h=k,g=!(x=!0))):(v=!(x=g=b=!0),h=t+n,m=t+o,(f=e)<(p=i)&&(k=f,f=p,p=k,b=!(v=!0))),m<l.min||h>l.max||f<s.min||p>s.max||(h<l.min&&(h=l.min,x=!1),m>l.max&&(m=l.max,g=!1),p<s.min&&(p=s.min,v=!1),f>s.max&&(f=s.max,b=!1),h=l.p2c(h),p=s.p2c(p),m=l.p2c(m),f=s.p2c(f),r&&(c.beginPath(),c.moveTo(h,p),c.lineTo(h,f),c.lineTo(m,f),c.lineTo(m,p),c.fillStyle=r(p,f),c.fill()),0<d&&(x||g||b||v)&&(c.beginPath(),c.moveTo(h,p+a),x?c.lineTo(h,f+a):c.moveTo(h,f+a),b?c.lineTo(m,f+a):c.moveTo(m,f+a),g?c.lineTo(m,p+a):c.moveTo(m,p+a),v?c.lineTo(h,p+a):c.moveTo(h,p+a),c.stroke()))}function f(t,e,i,n){var o=t.fill;return o?t.fillColor?K(t.fillColor,i,n,e):((t=Z.color.parse(e)).a="number"==typeof o?o:.4,t.normalize(),t.toString()):null}t=0==t.length||0==d?(I.html(""),I.css({padding:0}),"static"==I.css("position")&&I.css("position","relative"),M(),a=p(!0,"base"),r=p(!1,"overlay"),!1):(a=t.get(0),r=d.get(0),!0),g=a.getContext("2d"),l=r.getContext("2d"),u=Z([r,a]),t&&(I.data("plot").shutdown(),x.resize(),l.clearRect(0,0,U,N),u.unbind(),I.children().not([a,r]).remove()),I.data("plot",x),h(T),W(),A(),H.grid.hoverable&&(u.mousemove(B),u.mouseleave(q)),H.grid.clickable&&u.click(G),R(j.bindEvents,[u]);var b=[],v=null;function B(t){H.grid.hoverable&&k("plothover",t,function(t){return 0!=t.hoverable})}function q(t){H.grid.hoverable&&k("plothover",t,function(t){return!1})}function G(t){k("plotclick",t,function(t){return 0!=t.clickable})}function k(t,e,i){var n=u.offset(),o=e.pageX-n.left-w.left,a=e.pageY-n.top-w.top,r=m({left:o,top:a}),l=(r.pageX=e.pageX,r.pageY=e.pageY,function(t,e,i){for(var n=H.grid.mouseActiveRadius,o=n*n+1,a=null,r=P.length-1;0<=r;--r)if(i(P[r])){var l=P[r],s=l.xaxis,c=l.yaxis,u=l.datapoints.points,d=l.datapoints.pointsize,h=s.c2p(t),m=c.c2p(e),p=n/s.scale,f=n/c.scale;if(s.options.inverseTransform&&(p=Number.MAX_VALUE),c.options.inverseTransform&&(f=Number.MAX_VALUE),l.lines.show||l.points.show)for(y=0;y<u.length;y+=d){var x,g=u[y],b=u[y+1];null==g||p<g-h||g-h<-p||f<b-m||b-m<-f||(x=(x=Math.abs(s.p2c(g)-t))*x+(x=Math.abs(c.p2c(b)-e))*x)<o&&(o=x,a=[r,y/d])}if(l.bars.show&&!a)for(var v="left"==l.bars.align?0:-l.bars.barWidth/2,k=v+l.bars.barWidth,y=0;y<u.length;y+=d){var g=u[y],b=u[y+1],T=u[y+2];null!=g&&(P[r].bars.horizontal?h<=Math.max(T,g)&&h>=Math.min(T,g)&&b+v<=m&&m<=b+k:g+v<=h&&h<=g+k&&m>=Math.min(T,b)&&m<=Math.max(T,b))&&(a=[r,y/d])}}return a?(r=a[0],y=a[1],d=P[r].datapoints.pointsize,{datapoint:P[r].datapoints.points.slice(y*d,(y+1)*d),dataIndex:y,series:P[r],seriesIndex:r}):null}(o,a,i));if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+w.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+w.top)),H.grid.autoHighlight){for(var s=0;s<b.length;++s){var c=b[s];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||Q(c.series,c.point)}l&&J(l.series,l.datapoint,t)}I.trigger(t,[r,l])}function y(){v=v||setTimeout(_,30)}function _(){var t,e,i,n,o,a,r;for(v=null,l.save(),l.clearRect(0,0,U,N),l.translate(w.left,w.top),t=0;t<b.length;++t)(i=b[t]).series.bars.show?function(t,e){l.lineWidth=t.bars.lineWidth,l.strokeStyle=Z.color.parse(t.color).scale("a",.5).toString();var i=Z.color.parse(t.color).scale("a",.5).toString(),n="left"==t.bars.align?0:-t.bars.barWidth/2;L(e[0],e[1],e[2]||0,n,n+t.bars.barWidth,0,function(){return i},t.xaxis,t.yaxis,l,t.bars.horizontal,t.bars.lineWidth)}(i.series,i.point):(e=i.series,i=i.point,r=a=o=n=void 0,o=i[0],i=i[1],a=e.xaxis,r=e.yaxis,o<a.min||o>a.max||i<r.min||i>r.max||(n=e.points.radius+e.points.lineWidth/2,l.lineWidth=n,l.strokeStyle=Z.color.parse(e.color).scale("a",.5).toString(),n=1.5*n,o=a.p2c(o),i=r.p2c(i),l.beginPath(),"circle"==e.points.symbol?l.arc(o,i,n,0,2*Math.PI,!1):e.points.symbol(l,o,i,n,!1),l.closePath(),l.stroke()));l.restore(),R(j.drawOverlay,[l])}function J(t,e,i){"number"==typeof t&&(t=P[t]),"number"==typeof e&&(n=t.datapoints.pointsize,e=t.datapoints.points.slice(n*e,n*(e+1)));var n=$(t,e);-1==n?(b.push({series:t,point:e,auto:i}),y()):i||(b[n].auto=!1)}function Q(t,e){null==t&&null==e&&(b=[],y());t=$(t="number"==typeof t?P[t]:t,e="number"==typeof e?t.data[e]:e);-1!=t&&(b.splice(t,1),y())}function $(t,e){for(var i=0;i<b.length;++i){var n=b[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function K(t,e,i,n){if("string"==typeof t)return t;for(var o=g.createLinearGradient(0,i,0,e),a=0,r=t.colors.length;a<r;++a){var l,s=t.colors[a];"string"!=typeof s&&(l=Z.color.parse(n),null!=s.brightness&&(l=l.scale("rgb",s.brightness),null!=s.opacity)&&(l.a*=s.opacity),s=l.toString()),o.addColorStop(a/(r-1),s)}return o}}function tt(t,e){return e*Math.floor(t/e)}Z.plot=function(t,e,i){return new n(Z(t),e,i,Z.plot.plugins)},Z.plot.version="0.7",Z.plot.plugins=[],Z.plot.formatDate=function(t,e,i){function n(t){return 1==(t=""+t).length?"0"+t:t}var o=[],a=!1,r=!1,l=t.getUTCHours(),s=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(12<l?l-=12:0==l&&(l=12));for(var c=0;c<e.length;++c){var u=e.charAt(c);if(a){switch(u){case"h":u=""+l;break;case"H":u=n(l);break;case"M":u=n(t.getUTCMinutes());break;case"S":u=n(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+i[t.getUTCMonth()];break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"0":r=!(u="")}u&&r&&(u=n(u),r=!1),o.push(u),r||(a=!1)}else"%"==u?a=!0:o.push(u)}return o.join("")}}(jQuery);