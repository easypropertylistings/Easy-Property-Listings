!function(a){a.color={},a.color.make=function(t,e,i,n){var o={};return o.r=t||0,o.g=e||0,o.b=i||0,o.a=null!=n?n:1,o.add=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]+=e;return o.normalize()},o.scale=function(t,e){for(var i=0;i<t.length;++i)o[t.charAt(i)]*=e;return o.normalize()},o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,i){return e<t?t:i<e?i:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return a.color.make(o.r,o.b,o.g,o.a)},o.normalize()},a.color.extract=function(t,e){for(var i;(""==(i=t.css(e).toLowerCase())||"transparent"==i)&&(t=t.parent(),!a.nodeName(t.get(0),"body")););return a.color.parse(i="rgba(0, 0, 0, 0)"==i?"transparent":i)},a.color.parse=function(t){var e,i=a.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return i(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return i(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));t=a.trim(t).toLowerCase();return"transparent"==t?i(255,255,255,0):i((e=n[t]||[0,0,0])[0],e[1],e[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(Z){function n(I,e,n,o){var t,a,P=[],H={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},r=null,s=null,u=null,g=null,l=null,O=[],Y=[],w={left:0,right:0,top:0,bottom:0},U=0,N=0,C=0,S=0,j={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},x=this;x.setData=m,x.setupGrid=k,x.draw=y,x.getPlaceholder=function(){return I},x.getCanvas=function(){return r},x.getPlotOffset=function(){return w},x.width=function(){return C},x.height=function(){return S},x.offset=function(){var t=u.offset();return t.left+=w.left,t.top+=w.top,t},x.getData=function(){return P},x.getAxes=function(){var i={};return Z.each(O.concat(Y),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},x.getXAxes=function(){return O},x.getYAxes=function(){return Y},x.c2p=f,x.p2c=function(t){var e,i,n,o={};for(e=0;e<O.length;++e)if((i=O[e])&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){o.left=i.p2c(t[n]);break}for(e=0;e<Y.length;++e)if((i=Y[e])&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){o.top=i.p2c(t[n]);break}return o},x.getOptions=function(){return H},x.highlight=J,x.unhighlight=Q,x.triggerRedrawOverlay=G,x.pointOffset=function(t){return{left:parseInt(O[E(t,"x")-1].p2c(+t.x)+w.left),top:parseInt(Y[E(t,"y")-1].p2c(+t.y)+w.top)}},x.shutdown=function(){F&&clearTimeout(F);u.unbind("mousemove",D),u.unbind("mouseleave",L),u.unbind("click",B),R(j.shutdown,[u])},x.resize=function(){b(),v(r),v(s)},x.hooks=j;for(var c=0;c<o.length;++c){var d=o[c];d.init(x),d.options&&Z.extend(!0,H,d.options)}for(Z.extend(!0,H,n),null==H.xaxis.color&&(H.xaxis.color=H.grid.color),null==H.yaxis.color&&(H.yaxis.color=H.grid.color),null==H.xaxis.tickColor&&(H.xaxis.tickColor=H.grid.tickColor),null==H.yaxis.tickColor&&(H.yaxis.tickColor=H.grid.tickColor),null==H.grid.borderColor&&(H.grid.borderColor=H.grid.color),null==H.grid.tickColor&&(H.grid.tickColor=Z.color.parse(H.grid.color).scale("a",.22).toString()),t=0;t<Math.max(1,H.xaxes.length);++t)H.xaxes[t]=Z.extend(!0,{},H.xaxis,H.xaxes[t]);for(t=0;t<Math.max(1,H.yaxes.length);++t)H.yaxes[t]=Z.extend(!0,{},H.yaxis,H.yaxes[t]);for(H.xaxis.noTicks&&null==H.xaxis.ticks&&(H.xaxis.ticks=H.xaxis.noTicks),H.yaxis.noTicks&&null==H.yaxis.ticks&&(H.yaxis.ticks=H.yaxis.noTicks),H.x2axis&&(H.xaxes[1]=Z.extend(!0,{},H.xaxis,H.x2axis),H.xaxes[1].position="top"),H.y2axis&&(H.yaxes[1]=Z.extend(!0,{},H.yaxis,H.y2axis),H.yaxes[1].position="right"),H.grid.coloredAreas&&(H.grid.markings=H.grid.coloredAreas),H.grid.coloredAreasColor&&(H.grid.markingsColor=H.grid.coloredAreasColor),H.lines&&Z.extend(!0,H.series.lines,H.lines),H.points&&Z.extend(!0,H.series.points,H.points),H.bars&&Z.extend(!0,H.series.bars,H.bars),null!=H.shadowSize&&(H.series.shadowSize=H.shadowSize),t=0;t<H.xaxes.length;++t)X(O,t+1).options=H.xaxes[t];for(t=0;t<H.yaxes.length;++t)X(Y,t+1).options=H.yaxes[t];for(a in j)H.hooks[a]&&H.hooks[a].length&&(j[a]=j[a].concat(H.hooks[a]));R(j.processOptions,[H]);var n=I.children("canvas.base"),h=I.children("canvas.overlay");function R(t,e){e=[x].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function m(u){var t,d=(P=function(t){for(var e=[],i=0;i<t.length;++i){var n=Z.extend(!0,{},H.series);null!=t[i].data?(n.data=t[i].data,delete t[i].data,Z.extend(!0,n,t[i]),t[i].data=n.data):n.data=t[i],e.push(n)}return e}(u)).length,h=[],m=[];for(t=0;t<P.length;++t){var f=P[t].color;null!=f&&(--d,"number"==typeof f?m.push(f):h.push(Z.color.parse(P[t].color)))}for(t=0;t<m.length;++t)d=Math.max(d,m[t]+1);var p,x=[],g=0;for(t=0;x.length<d;){p=H.colors.length==t?Z.color.make(100,100,100):Z.color.parse(H.colors[t]);var b=g%2==1?-1:1;p.scale("rgb",1+b*Math.ceil(g/2)*.2),x.push(p),++t>=H.colors.length&&(t=0,++g)}var e,v=0;for(t=0;t<P.length;++t){if(null==(e=P[t]).color?(e.color=x[v].toString(),++v):"number"==typeof e.color&&(e.color=x[e.color].toString()),null==e.lines.show){var k,y=!0;for(k in e)if(e[k]&&e[k].show){y=!1;break}y&&(e.lines.show=!0)}e.xaxis=X(O,E(e,"x")),e.yaxis=X(Y,E(e,"y"))}var i,T,n,o,a,r,l,s,M,w,C=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,z=Number.MAX_VALUE;function W(t,e,i){e<t.datamin&&e!=-z&&(t.datamin=e),i>t.datamax&&i!=z&&(t.datamax=i)}for(Z.each(V(),function(t,e){e.datamin=C,e.datamax=S,e.used=!1}),i=0;i<P.length;++i)(a=P[i]).datapoints={points:[]},R(j.processRawData,[a,a.data,a.datapoints]);for(i=0;i<P.length;++i){var A=(a=P[i]).data,c=a.datapoints.format;if(c||((c=[]).push({x:!0,number:!0,required:!0}),c.push({y:!0,number:!0,required:!0}),(a.bars.show||a.lines.show&&a.lines.fill)&&(c.push({y:!0,number:!0,required:!1,defaultValue:0}),a.bars.horizontal&&(delete c[c.length-1].y,c[c.length-1].x=!0)),a.datapoints.format=c),null==a.datapoints.pointsize)for(a.datapoints.pointsize=c.length,l=a.datapoints.pointsize,r=a.datapoints.points,insertSteps=a.lines.show&&a.lines.steps,a.xaxis.used=a.yaxis.used=!0,T=n=0;T<A.length;++T,n+=l){var F=null==(w=A[T]);if(!F)for(o=0;o<l;++o)s=w[o],(M=c[o])&&(M.number&&null!=s&&(s=+s,isNaN(s)?s=null:s==1/0?s=z:s==-1/0&&(s=-z)),null==s&&(M.required&&(F=!0),null!=M.defaultValue&&(s=M.defaultValue))),r[n+o]=s;if(F)for(o=0;o<l;++o)null!=(s=r[n+o])&&((M=c[o]).x&&W(a.xaxis,s,s),M.y&&W(a.yaxis,s,s)),r[n+o]=null;else if(insertSteps&&0<n&&null!=r[n-l]&&r[n-l]!=r[n]&&r[n-l+1]!=r[n+1]){for(o=0;o<l;++o)r[n+l+o]=r[n+o];r[n+1]=r[n-l+1],n+=l}}}for(i=0;i<P.length;++i)a=P[i],R(j.processDatapoints,[a,a.datapoints]);for(i=0;i<P.length;++i){a=P[i],r=a.datapoints.points,l=a.datapoints.pointsize;var I,U=C,N=C,D=S,L=S;for(T=0;T<r.length;T+=l)if(null!=r[T])for(o=0;o<l;++o)s=r[T+o],(M=c[o])&&s!=z&&s!=-z&&(M.x&&(s<U&&(U=s),D<s&&(D=s)),M.y&&(s<N&&(N=s),L<s&&(L=s)));a.bars.show&&(I="left"==a.bars.align?0:-a.bars.barWidth/2,a.bars.horizontal?(N+=I,L+=I+a.bars.barWidth):(U+=I,D+=I+a.bars.barWidth)),W(a.xaxis,U,D),W(a.yaxis,N,L)}Z.each(V(),function(t,e){e.datamin==C&&(e.datamin=null),e.datamax==S&&(e.datamax=null)})}function E(t,e){t=t[e+"axis"];return t="number"!=typeof(t="object"==typeof t?t.n:t)?1:t}function V(){return Z.grep(O.concat(Y),function(t){return t})}function f(t){for(var e,i={},n=0;n<O.length;++n)(e=O[n])&&e.used&&(i["x"+e.n]=e.c2p(t.left));for(n=0;n<Y.length;++n)(e=Y[n])&&e.used&&(i["y"+e.n]=e.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function X(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==O?"x":"y",options:Z.extend(!0,{},t==O?H.xaxis:H.yaxis)}),t[e-1]}function p(t,e){var i=document.createElement("canvas");return i.className=e,i.width=U,i.height=N,t||Z(i).css({position:"absolute",left:0,top:0}),Z(i).appendTo(I),(i=!i.getContext?window.G_vmlCanvasManager.initElement(i):i).getContext("2d").save(),i}function b(){if(U=I.width(),N=I.height(),U<=0||N<=0)throw"Invalid dimensions for plot, width = "+U+", height = "+N}function v(t){t.width!=U&&(t.width=U),t.height!=N&&(t.height=N);t=t.getContext("2d");t.restore(),t.save()}function k(){var t,e=V();if(Z.each(e,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace;var i,n=e.options,o=+(null!=n.min?n.min:e.datamin),a=+(null!=n.max?n.max:e.datamax),r=a-o;0==r?(i=0==a?1:.01,null==n.min&&(o-=i),null!=n.max&&null==n.min||(a+=i)):null!=(i=n.autoscaleMargin)&&(null==n.min&&(o-=r*i)<0&&null!=e.datamin&&0<=e.datamin&&(o=0),null==n.max&&0<(a+=r*i)&&null!=e.datamax&&e.datamax<=0&&(a=0)),e.min=o,e.max=a}),allocatedAxes=Z.grep(e,function(t){return t.reserveSpace}),w.left=w.right=w.top=w.bottom=0,H.grid.show){for(Z.each(allocatedAxes,function(c,u){var t=u,o=t.options;a="number"==typeof o.ticks&&0<o.ticks?o.ticks:.3*Math.sqrt("x"==t.direction?U:N);var h,m,f,e,p=(t.max-t.min)/a;if("time"==o.mode){var d={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],x=0;null!=o.minTickSize&&(x="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*d[o.minTickSize[1]]);for(var n=0;n<i.length-1&&!(p<(i[n][0]*d[i[n][1]]+i[n+1][0]*d[i[n+1][1]])/2&&i[n][0]*d[i[n][1]]>=x);++n);l=i[n][0],"year"==(a=i[n][1])&&(e=Math.pow(10,Math.floor(Math.log(p/d.year)/Math.LN10)),l=(s=p/d.year/e)<1.5?1:s<3?2:s<7.5?5:10,l*=e),t.tickSize=o.tickSize||[l,a],h=function(t){var e=[],i=t.tickSize[0],n=t.tickSize[1],o=new Date(t.min),a=i*d[n],r=("second"==n&&o.setUTCSeconds(tt(o.getUTCSeconds(),i)),"minute"==n&&o.setUTCMinutes(tt(o.getUTCMinutes(),i)),"hour"==n&&o.setUTCHours(tt(o.getUTCHours(),i)),"month"==n&&o.setUTCMonth(tt(o.getUTCMonth(),i)),"year"==n&&o.setUTCFullYear(tt(o.getUTCFullYear(),i)),o.setUTCMilliseconds(0),d.minute<=a&&o.setUTCSeconds(0),d.hour<=a&&o.setUTCMinutes(0),d.day<=a&&o.setUTCHours(0),4*d.day<=a&&o.setUTCDate(1),d.year<=a&&o.setUTCMonth(0),0),l=Number.NaN;do{var s,c,u=l,l=o.getTime()}while(e.push(l),"month"==n?i<1?(o.setUTCDate(1),s=o.getTime(),o.setUTCMonth(o.getUTCMonth()+1),c=o.getTime(),o.setTime(l+r*d.hour+(c-s)*i),r=o.getUTCHours(),o.setUTCHours(0)):o.setUTCMonth(o.getUTCMonth()+i):"year"==n?o.setUTCFullYear(o.getUTCFullYear()+i):o.setTime(l+a),l<t.max&&l!=u);return e},m=function(t,e){t=new Date(t);if(null!=o.timeformat)return Z.plot.formatDate(t,o.timeformat,o.monthNames);var i=e.tickSize[0]*d[e.tickSize[1]],e=e.max-e.min,n=o.twelveHourClock?" %p":"";return fmt=i<d.minute?"%h:%M:%S"+n:i<d.day?e<2*d.day?"%h:%M"+n:"%b %d %h:%M"+n:i<d.month?"%b %d":i<d.year?e<d.year?"%b":"%b %y":"%y",Z.plot.formatDate(t,fmt,o.monthNames)}}else{var a=o.tickDecimals,r=-Math.floor(Math.log(p)/Math.LN10);null!=a&&a<r&&(r=a),e=Math.pow(10,-r),(s=p/e)<1.5?l=1:s<3?(l=2,2.25<s&&(null==a||r+1<=a)&&(l=2.5,++r)):l=s<7.5?5:10,l*=e,null!=o.minTickSize&&l<o.minTickSize&&(l=o.minTickSize),t.tickDecimals=Math.max(0,null!=a?a:r),t.tickSize=o.tickSize||l,h=function(t){for(var e,i=[],n=tt(t.min,t.tickSize),o=0,a=Number.NaN;e=a,a=n+o*t.tickSize,i.push(a),++o,a<t.max&&a!=e;);return i},m=function(t,e){return t.toFixed(e.tickDecimals)}}null==o.alignTicksWithAxis||(f=("x"==t.direction?O:Y)[o.alignTicksWithAxis-1])&&f.used&&f!=t&&(0<(s=h(t)).length&&(null==o.min&&(t.min=Math.min(t.min,s[0])),null==o.max&&1<s.length&&(t.max=Math.max(t.max,s[s.length-1]))),h=function(t){for(var e,i=[],n=0;n<f.ticks.length;++n)e=(f.ticks[n].v-f.min)/(f.max-f.min),e=t.min+e*(t.max-t.min),i.push(e);return i},"time"!=t.mode&&null==o.tickDecimals&&(e=Math.max(0,1-Math.floor(Math.log(p)/Math.LN10)),1<(a=h(t)).length&&/\..*0$/.test((a[1]-a[0]).toFixed(e))||(t.tickDecimals=e))),t.tickGenerator=h,Z.isFunction(o.tickFormatter)?t.tickFormatter=function(t,e){return""+o.tickFormatter(t,e)}:t.tickFormatter=m;var g,b,l,s,v=u,r=v.options.ticks,k=[];for(null==r||"number"==typeof r&&0<r?k=v.tickGenerator(v):r&&(k=Z.isFunction(r)?r({min:v.min,max:v.max}):r),v.ticks=[],g=0;g<k.length;++g){var y=null,T=k[g];"object"==typeof T?(b=+T[0],1<T.length&&(y=T[1])):b=+T,null==y&&(y=v.tickFormatter(b,v)),isNaN(b)||v.ticks.push({v:b,label:y})}s=(l=u).ticks,l.options.autoscaleMargin&&0<s.length&&(null==l.options.min&&(l.min=Math.min(l.min,s[0].v)),null==l.options.max&&1<s.length&&(l.max=Math.max(l.max,s[s.length-1].v)));var M,w,C,S=u,a=S.options,z=S.ticks||[],W=[],A=a.labelWidth,a=a.labelHeight;function F(t,e){return Z('<div style="position:absolute;top:-10000px;'+e+'font-size:smaller"><div class="'+S.direction+"Axis "+S.direction+S.n+'Axis">'+t.join("")+"</div></div>").appendTo(I)}if("x"==S.direction){if(null==A&&(A=Math.floor(U/(0<z.length?z.length:1))),null==a){for(W=[],M=0;M<z.length;++M)(w=z[M].label)&&W.push('<div class="tickLabel" style="float:left;width:'+A+'px">'+w+"</div>");0<W.length&&(W.push('<div style="clear:left"></div>'),a=(C=F(W,"width:10000px;")).height(),C.remove())}}else if(null==A||null==a){for(M=0;M<z.length;++M)(w=z[M].label)&&W.push('<div class="tickLabel">'+w+"</div>");0<W.length&&(C=F(W,""),null==A&&(A=C.children().width()),null==a&&(a=C.find("div.tickLabel").height()),C.remove())}null==a&&(a=0),S.labelWidth=A=null==A?0:A,S.labelHeight=a}),t=allocatedAxes.length-1;0<=t;--t)!function(t){var e=t.labelWidth,i=t.labelHeight,n=t.options.position,o=t.options.tickLength,a=H.grid.axisMargin,r=H.grid.labelMargin,l="x"==t.direction?O:Y,s=Z.grep(l,function(t){return t&&t.options.position==n&&t.reserveSpace}),s=(Z.inArray(t,s)==s.length-1&&(a=0),null==o&&(o="full"),Z.grep(l,function(t){return t&&t.reserveSpace}));(l=0==Z.inArray(t,s))||"full"!=o||(o=5),isNaN(+o)||(r+=+o),"x"==t.direction?(i+=r,"bottom"==n?(w.bottom+=i+a,t.box={top:N-w.bottom,height:i}):(t.box={top:w.top+a,height:i},w.top+=i+a)):(e+=r,"left"==n?(t.box={left:w.left+a,width:e},w.left+=e+a):(w.right+=e+a,t.box={left:U-w.right,width:e})),t.position=n,t.tickLength=o,t.box.padding=r,t.innermost=l}(allocatedAxes[t]);var u,d=H.grid.minBorderMargin;if(null==d)for(t=d=0;t<P.length;++t)d=Math.max(d,P[t].points.radius+P[t].points.lineWidth/2);for(u in w)w[u]+=H.grid.borderWidth,w[u]=Math.max(d,w[u])}if(C=U-w.left-w.right,S=N-w.bottom-w.top,Z.each(e,function(t,e){function i(t){return t}var n,o,a,r;o=(e=e).options.transform||i,a=e.options.inverseTransform,r="x"==e.direction?(n=e.scale=C/Math.abs(o(e.max)-o(e.min)),Math.min(o(e.max),o(e.min))):(n=-(n=e.scale=S/Math.abs(o(e.max)-o(e.min))),Math.max(o(e.max),o(e.min))),e.p2c=o==i?function(t){return(t-r)*n}:function(t){return(o(t)-r)*n},e.c2p=a?function(t){return a(r+t/n)}:function(t){return r+t/n}}),H.grid.show){Z.each(allocatedAxes,function(t,e){"x"==(e=e).direction?(e.box.left=w.left,e.box.width=C):(e.box.top=w.top,e.box.height=S)}),I.find(".tickLabels").remove();for(var h=['<div class="tickLabels" style="font-size:smaller">'],m=V(),f=0;f<m.length;++f){var i=m[f],n=i.box;if(i.show){h.push('<div class="'+i.direction+"Axis "+i.direction+i.n+'Axis" style="color:'+i.options.color+'">');for(var p=0;p<i.ticks.length;++p){var o=i.ticks[p];if(!(!o.label||o.v<i.min||o.v>i.max)){var x,g,a={},b=("x"==i.direction?(x="center",a.left=Math.round(w.left+i.p2c(o.v)-i.labelWidth/2),"bottom"==i.position?a.top=n.top+n.padding:a.bottom=N-(n.top+n.height-n.padding)):(a.top=Math.round(w.top+i.p2c(o.v)-i.labelHeight/2),x="left"==i.position?(a.right=U-(n.left+n.width-n.padding),"right"):(a.left=n.left+n.padding,"left")),a.width=i.labelWidth,["position:absolute","text-align:"+x]);for(g in a)b.push(g+":"+a[g]+"px"),h.push('<div class="tickLabel" style="'+b.join(";")+'">'+o.label+"</div>")}}h.push("</div>")}}h.push("</div>"),I.append(h.join(""))}if(I.find(".legend").remove(),H.legend.show){for(var v,k,r,l,s,c=[],y=!1,T=H.legend.labelFormatter,M=0;M<P.length;++M)v=P[M],(k=v.label)&&(M%H.legend.noColumns==0&&(y&&c.push("</tr>"),c.push("<tr>"),y=!0),T&&(k=T(k,v)),c.push('<td class="legendColorBox"><div style="border:1px solid '+H.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+v.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k+"</td>"));y&&c.push("</tr>"),0!=c.length&&(e='<table style="font-size:smaller;color:'+H.grid.color+'">'+c.join("")+"</table>",null!=H.legend.container?Z(H.legend.container).html(e):(r="",l=H.legend.position,null==(s=H.legend.margin)[0]&&(s=[s,s]),"n"==l.charAt(0)?r+="top:"+(s[1]+w.top)+"px;":"s"==l.charAt(0)&&(r+="bottom:"+(s[1]+w.bottom)+"px;"),"e"==l.charAt(1)?r+="right:"+(s[0]+w.right)+"px;":"w"==l.charAt(1)&&(r+="left:"+(s[0]+w.left)+"px;"),l=Z('<div class="legend">'+e.replace('style="','style="position:absolute;'+r+";")+"</div>").appendTo(I),0!=H.legend.backgroundOpacity&&(null==(s=H.legend.backgroundColor)&&((s=(s=H.grid.backgroundColor)&&"string"==typeof s?Z.color.parse(s):Z.color.extract(l,"background-color")).a=1,s=s.toString()),e=l.children(),Z('<div style="position:absolute;width:'+e.width()+"px;height:"+e.height()+"px;"+r+"background-color:"+s+';"> </div>').prependTo(l).css("opacity",H.legend.backgroundOpacity))))}}function y(){g.clearRect(0,0,U,N);var t=H.grid;t.show&&t.backgroundColor&&(g.save(),g.translate(w.left,w.top),g.fillStyle=K(H.grid.backgroundColor,S,0,"rgba(255, 255, 255, 0)"),g.fillRect(0,0,C,S),g.restore()),t.show&&!t.aboveData&&M();for(var e=0;e<P.length;++e){R(j.drawSeries,[g,P[e]]),i=void 0;var i=P[e];if(i.lines.show){n=void 0;a=void 0;r=void 0;l=void 0;l=void 0;var n=i;var o=function(t,u,d,e,i){var n=t.points,o=t.pointsize,h=null,m=null;g.beginPath();for(var a=o;a<n.length;a+=o){var r=n[a-o],l=n[a-o+1],s=n[a],c=n[a+1];if(null!=r&&null!=s){if(l<=c&&l<i.min){if(c<i.min)continue;r=(i.min-l)/(c-l)*(s-r)+r,l=i.min}else if(c<=l&&c<i.min){if(l<i.min)continue;s=(i.min-l)/(c-l)*(s-r)+r,c=i.min}if(c<=l&&l>i.max){if(c>i.max)continue;r=(i.max-l)/(c-l)*(s-r)+r,l=i.max}else if(l<=c&&c>i.max){if(l>i.max)continue;s=(i.max-l)/(c-l)*(s-r)+r,c=i.max}if(r<=s&&r<e.min){if(s<e.min)continue;l=(e.min-r)/(s-r)*(c-l)+l,r=e.min}else if(s<=r&&s<e.min){if(r<e.min)continue;c=(e.min-r)/(s-r)*(c-l)+l,s=e.min}if(s<=r&&r>e.max){if(s>e.max)continue;l=(e.max-r)/(s-r)*(c-l)+l,r=e.max}else if(r<=s&&s>e.max){if(r>e.max)continue;c=(e.max-r)/(s-r)*(c-l)+l,s=e.max}r==h&&l==m||g.moveTo(e.p2c(r)+u,i.p2c(l)+d),h=s,m=c,g.lineTo(e.p2c(s)+u,i.p2c(c)+d)}}g.stroke()};g.save(),g.translate(w.left,w.top),g.lineJoin="round";var a=n.lines.lineWidth,r=n.shadowSize;0<a&&0<r&&(g.lineWidth=r,g.strokeStyle="rgba(0,0,0,0.1)",l=Math.PI/18,o(n.datapoints,Math.sin(l)*(a/2+r/2),Math.cos(l)*(a/2+r/2),n.xaxis,n.yaxis),g.lineWidth=r/2,o(n.datapoints,Math.sin(l)*(a/2+r/4),Math.cos(l)*(a/2+r/4),n.xaxis,n.yaxis));g.lineWidth=a,g.strokeStyle=n.color;var l=W(n.lines,n.color,0,S);l&&(g.fillStyle=l,function(u,t,e){for(var i=u.points,n=u.pointsize,d=Math.min(Math.max(0,e.min),e.max),o=0,a=!1,h=1,m=0,f=0;!(0<n&&o>i.length+n);){var p,x,r=i[(o+=n)-n],l=i[o-n+h],s=i[o],c=i[o+h];if(a){if(0<n&&null!=r&&null==s){f=o,n=-n,h=2;continue}if(n<0&&o==m+n){g.fill(),a=!1,h=1,o=m=f+(n=-n);continue}}if(null!=r&&null!=s){if(r<=s&&r<t.min){if(s<t.min)continue;l=(t.min-r)/(s-r)*(c-l)+l,r=t.min}else if(s<=r&&s<t.min){if(r<t.min)continue;c=(t.min-r)/(s-r)*(c-l)+l,s=t.min}if(s<=r&&r>t.max){if(s>t.max)continue;l=(t.max-r)/(s-r)*(c-l)+l,r=t.max}else if(r<=s&&s>t.max){if(r>t.max)continue;c=(t.max-r)/(s-r)*(c-l)+l,s=t.max}a||(g.beginPath(),g.moveTo(t.p2c(r),e.p2c(d)),a=!0),l>=e.max&&c>=e.max?(g.lineTo(t.p2c(r),e.p2c(e.max)),g.lineTo(t.p2c(s),e.p2c(e.max))):l<=e.min&&c<=e.min?(g.lineTo(t.p2c(r),e.p2c(e.min)),g.lineTo(t.p2c(s),e.p2c(e.min))):(p=r,x=s,l<=c&&l<e.min&&c>=e.min?(r=(e.min-l)/(c-l)*(s-r)+r,l=e.min):c<=l&&c<e.min&&l>=e.min&&(s=(e.min-l)/(c-l)*(s-r)+r,c=e.min),c<=l&&l>e.max&&c<=e.max?(r=(e.max-l)/(c-l)*(s-r)+r,l=e.max):l<=c&&c>e.max&&l<=e.max&&(s=(e.max-l)/(c-l)*(s-r)+r,c=e.max),r!=p&&g.lineTo(t.p2c(p),e.p2c(l)),g.lineTo(t.p2c(r),e.p2c(l)),g.lineTo(t.p2c(s),e.p2c(c)),s!=x&&(g.lineTo(t.p2c(s),e.p2c(c)),g.lineTo(t.p2c(x),e.p2c(c))))}}}(n.datapoints,n.xaxis,n.yaxis));0<a&&o(n.datapoints,0,0,n.xaxis,n.yaxis);g.restore()}if(i.bars.show&&!function(u){g.save(),g.translate(w.left,w.top),g.lineWidth=u.bars.lineWidth,g.strokeStyle=u.color;var t="left"==u.bars.align?0:-u.bars.barWidth/2,e=u.bars.fill?function(t,e){return W(u.bars,u.color,t,e)}:null;(function(t,e,i,n,o,a,r){for(var l=t.points,s=t.pointsize,c=0;c<l.length;c+=s)null!=l[c]&&z(l[c],l[c+1],l[c+2],e,i,n,o,a,r,g,u.bars.horizontal,u.bars.lineWidth)})(u.datapoints,t,t+u.bars.barWidth,0,e,u.xaxis,u.yaxis),g.restore()}(i),i.points.show){r=void 0;l=void 0;a=void 0;o=void 0;n=void 0;a=void 0;r=i;i=function(t,e,i,u,n,o,a,d){for(var r=t.points,h=t.pointsize,l=0;l<r.length;l+=h){var s=r[l],c=r[l+1];null==s||s<o.min||s>o.max||c<a.min||c>a.max||(g.beginPath(),s=o.p2c(s),c=a.p2c(c)+u,"circle"==d?g.arc(s,c,e,0,n?Math.PI:2*Math.PI,!1):d(g,s,c,e,n),g.closePath(),i&&(g.fillStyle=i,g.fill()),g.stroke())}};g.save(),g.translate(w.left,w.top);l=r.points.lineWidth,a=r.shadowSize,o=r.points.radius,n=r.points.symbol;0<l&&0<a&&(a=a/2,g.lineWidth=a,g.strokeStyle="rgba(0,0,0,0.1)",i(r.datapoints,o,null,a+a/2,!0,r.xaxis,r.yaxis,n),g.strokeStyle="rgba(0,0,0,0.2)",i(r.datapoints,o,null,a/2,!0,r.xaxis,r.yaxis,n));g.lineWidth=l,g.strokeStyle=r.color,i(r.datapoints,o,W(r.points,r.color),0,!1,r.xaxis,r.yaxis,n),g.restore()}}R(j.draw,[g]),t.show&&t.aboveData&&M()}function T(t,e){var n,o,a,r,l,s=V();for(i=0;i<s.length;++i)if((n=s[i]).direction==e&&t[o=!t[o=e+n.n+"axis"]&&1==n.n?e+"axis":o]){r=t[o].from,l=t[o].to;break}return t[o]||(n=("x"==e?O:Y)[0],r=t[e+"1"],l=t[e+"2"]),null!=r&&null!=l&&l<r&&(a=r,r=l,l=a),{from:r,to:l,axis:n}}function M(){g.save(),g.translate(w.left,w.top);var t,u=H.grid.markings;if(u)for(Z.isFunction(u)&&((n=x.getAxes()).xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,u=u(n)),t=0;t<u.length;++t){var d=u[t],e=T(d,"x"),i=T(d,"y");null==e.from&&(e.from=e.axis.min),null==e.to&&(e.to=e.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),e.to<e.axis.min||e.from>e.axis.max||i.to<i.axis.min||i.from>i.axis.max||(e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max),e.from==e.to&&i.from==i.to||(e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),i.from=i.axis.p2c(i.from),i.to=i.axis.p2c(i.to),e.from==e.to||i.from==i.to?(g.beginPath(),g.strokeStyle=d.color||H.grid.markingsColor,g.lineWidth=d.lineWidth||H.grid.markingsLineWidth,g.moveTo(e.from,i.from),g.lineTo(e.to,i.to),g.stroke()):(g.fillStyle=d.color||H.grid.markingsColor,g.fillRect(e.from,i.to,e.to-e.from,i.from-i.to))))}for(var n=V(),o=H.grid.borderWidth,h=0;h<n.length;++h){var a,r,l,s=n[h],m=s.box,c=s.tickLength;if(s.show&&0!=s.ticks.length){for(g.lineWidth=1,"x"==s.direction?(a=0,r="full"==c?"top"==s.position?0:S:m.top-w.top+("top"==s.position?m.height:0)):(r=0,a="full"==c?"left"==s.position?0:C:m.left-w.left+("left"==s.position?m.width:0)),s.innermost||(g.beginPath(),p=l=0,"x"==s.direction?p=C:l=S,1==g.lineWidth&&(a=Math.floor(a)+.5,r=Math.floor(r)+.5),g.moveTo(a,r),g.lineTo(a+p,r+l),g.stroke()),g.beginPath(),t=0;t<s.ticks.length;++t){var f=s.ticks[t].v,p=l=0;f<s.min||f>s.max||"full"==c&&0<o&&(f==s.min||f==s.max)||("x"==s.direction?(a=s.p2c(f),l="full"==c?-S:c,"top"==s.position&&(l=-l)):(r=s.p2c(f),p="full"==c?-C:c,"left"==s.position&&(p=-p)),1==g.lineWidth&&("x"==s.direction?a=Math.floor(a)+.5:r=Math.floor(r)+.5),g.moveTo(a,r),g.lineTo(a+p,r+l))}g.stroke()}}o&&(g.lineWidth=o,g.strokeStyle=H.grid.borderColor,g.strokeRect(-o/2,-o/2,C+o,S+o)),g.restore()}function z(u,d,h,m,f,t,p,e,i,n,x,g){var o,a,r,l,s,c,b,v,k;x?(s=!(v=c=b=!0),l=d+m,r=d+f,(a=u)<(o=h)&&(k=a,a=o,o=k,c=!(s=!0))):(v=!(s=c=b=!0),o=u+m,a=u+f,(l=d)<(r=h)&&(k=l,l=r,r=k,b=!(v=!0))),a<e.min||o>e.max||l<i.min||r>i.max||(o<e.min&&(o=e.min,s=!1),a>e.max&&(a=e.max,c=!1),r<i.min&&(r=i.min,v=!1),l>i.max&&(l=i.max,b=!1),o=e.p2c(o),r=i.p2c(r),a=e.p2c(a),l=i.p2c(l),p&&(n.beginPath(),n.moveTo(o,r),n.lineTo(o,l),n.lineTo(a,l),n.lineTo(a,r),n.fillStyle=p(r,l),n.fill()),0<g&&(s||c||b||v)&&(n.beginPath(),n.moveTo(o,r+t),s?n.lineTo(o,l+t):n.moveTo(o,l+t),b?n.lineTo(a,l+t):n.moveTo(a,l+t),c?n.lineTo(a,r+t):n.moveTo(a,r+t),v?n.lineTo(o,r+t):n.moveTo(o,r+t),n.stroke()))}function W(t,e,i,n){var o=t.fill;if(!o)return null;if(t.fillColor)return K(t.fillColor,i,n,e);t=Z.color.parse(e);return t.a="number"==typeof o?o:.4,t.normalize(),t.toString()}n=0==n.length||0==h?(I.html(""),I.css({padding:0}),"static"==I.css("position")&&I.css("position","relative"),b(),r=p(!0,"base"),s=p(!1,"overlay"),!1):(r=n.get(0),s=h.get(0),!0),g=r.getContext("2d"),l=s.getContext("2d"),u=Z([s,r]),n&&(I.data("plot").shutdown(),x.resize(),l.clearRect(0,0,U,N),u.unbind(),I.children().not([r,s]).remove()),I.data("plot",x),m(e),k(),y(),H.grid.hoverable&&(u.mousemove(D),u.mouseleave(L)),H.grid.clickable&&u.click(B),R(j.bindEvents,[u]);var A=[],F=null;function D(t){H.grid.hoverable&&q("plothover",t,function(t){return 0!=t.hoverable})}function L(t){H.grid.hoverable&&q("plothover",t,function(t){return!1})}function B(t){q("plotclick",t,function(t){return 0!=t.clickable})}function q(t,e,i){var n=u.offset(),o=e.pageX-n.left-w.left,a=e.pageY-n.top-w.top,r=f({left:o,top:a}),l=(r.pageX=e.pageX,r.pageY=e.pageY,function(u,d,h){for(var m=H.grid.mouseActiveRadius,f=m*m+1,t=null,e=P.length-1;0<=e;--e)if(h(P[e])){var i=P[e],p=i.xaxis,x=i.yaxis,n=i.datapoints.points,o=i.datapoints.pointsize,a=p.c2p(u),r=x.c2p(d),g=m/p.scale,b=m/x.scale;if(p.options.inverseTransform&&(g=Number.MAX_VALUE),x.options.inverseTransform&&(b=Number.MAX_VALUE),i.lines.show||i.points.show)for(c=0;c<n.length;c+=o){var v,l=n[c],s=n[c+1];null!=l&&(g<l-a||l-a<-g||b<s-r||s-r<-b||(v=(v=Math.abs(p.p2c(l)-u))*v+(v=Math.abs(x.p2c(s)-d))*v)<f&&(f=v,t=[e,c/o]))}if(i.bars.show&&!t)for(var k="left"==i.bars.align?0:-i.bars.barWidth/2,y=k+i.bars.barWidth,c=0;c<n.length;c+=o){var l=n[c],s=n[c+1],T=n[c+2];null!=l&&(P[e].bars.horizontal?a<=Math.max(T,l)&&a>=Math.min(T,l)&&s+k<=r&&r<=s+y:l+k<=a&&a<=l+y&&r>=Math.min(T,s)&&r<=Math.max(T,s))&&(t=[e,c/o])}}return t?(e=t[0],c=t[1],o=P[e].datapoints.pointsize,{datapoint:P[e].datapoints.points.slice(c*o,(c+1)*o),dataIndex:c,series:P[e],seriesIndex:e}):null}(o,a,i));if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+w.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+w.top)),H.grid.autoHighlight){for(var s=0;s<A.length;++s){var c=A[s];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||Q(c.series,c.point)}l&&J(l.series,l.datapoint,t)}I.trigger(t,[r,l])}function G(){F=F||setTimeout(_,30)}function _(){var t,e,i,n,o,a,r;for(F=null,l.save(),l.clearRect(0,0,U,N),l.translate(w.left,w.top),t=0;t<A.length;++t)(i=A[t]).series.bars.show?function(t,e){l.lineWidth=t.bars.lineWidth,l.strokeStyle=Z.color.parse(t.color).scale("a",.5).toString();var i=Z.color.parse(t.color).scale("a",.5).toString(),n="left"==t.bars.align?0:-t.bars.barWidth/2;z(e[0],e[1],e[2]||0,n,n+t.bars.barWidth,0,function(){return i},t.xaxis,t.yaxis,l,t.bars.horizontal,t.bars.lineWidth)}(i.series,i.point):(e=i.series,i=i.point,r=a=o=n=void 0,o=i[0],i=i[1],a=e.xaxis,r=e.yaxis,o<a.min||o>a.max||i<r.min||i>r.max||(n=e.points.radius+e.points.lineWidth/2,l.lineWidth=n,l.strokeStyle=Z.color.parse(e.color).scale("a",.5).toString(),n=1.5*n,o=a.p2c(o),i=r.p2c(i),l.beginPath(),"circle"==e.points.symbol?l.arc(o,i,n,0,2*Math.PI,!1):e.points.symbol(l,o,i,n,!1),l.closePath(),l.stroke()));l.restore(),R(j.drawOverlay,[l])}function J(t,e,i){"number"==typeof t&&(t=P[t]),"number"==typeof e&&(n=t.datapoints.pointsize,e=t.datapoints.points.slice(n*e,n*(e+1)));var n=$(t,e);-1==n?(A.push({series:t,point:e,auto:i}),G()):i||(A[n].auto=!1)}function Q(t,e){null==t&&null==e&&(A=[],G());t=$(t="number"==typeof t?P[t]:t,e="number"==typeof e?t.data[e]:e);-1!=t&&(A.splice(t,1),G())}function $(t,e){for(var i=0;i<A.length;++i){var n=A[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function K(t,e,i,n){if("string"==typeof t)return t;for(var o=g.createLinearGradient(0,i,0,e),a=0,r=t.colors.length;a<r;++a){var l,s=t.colors[a];"string"!=typeof s&&(l=Z.color.parse(n),null!=s.brightness&&(l=l.scale("rgb",s.brightness),null!=s.opacity&&(l.a*=s.opacity)),s=l.toString()),o.addColorStop(a/(r-1),s)}return o}}function tt(t,e){return e*Math.floor(t/e)}Z.plot=function(t,e,i){return new n(Z(t),e,i,Z.plot.plugins)},Z.plot.version="0.7",Z.plot.plugins=[],Z.plot.formatDate=function(t,e,i){function n(t){return 1==(t=""+t).length?"0"+t:t}var o=[],a=!1,r=!1,l=t.getUTCHours(),u=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(12<l?l-=12:0==l&&(l=12));for(var s=0;s<e.length;++s){var c=e.charAt(s);if(a){switch(c){case"h":c=""+l;break;case"H":c=n(l);break;case"M":c=n(t.getUTCMinutes());break;case"S":c=n(t.getUTCSeconds());break;case"d":c=""+t.getUTCDate();break;case"m":c=""+(t.getUTCMonth()+1);break;case"y":c=""+t.getUTCFullYear();break;case"b":c=""+i[t.getUTCMonth()];break;case"p":c=u?"am":"pm";break;case"P":c=u?"AM":"PM";break;case"0":r=!(c="")}c&&r&&(c=n(c),r=!1),o.push(c),r||(a=!1)}else"%"==c?a=!0:o.push(c)}return o.join("")}}(jQuery);